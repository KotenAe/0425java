import{_ as n,o as s,c as a,a as t}from"./app.a3ab45a4.js";const p={},e=t(`<h1 id="day09-\u4E66\u57CE\u9879\u76EE\u7B2C\u4E09\u9636\u6BB5" tabindex="-1"><a class="header-anchor" href="#day09-\u4E66\u57CE\u9879\u76EE\u7B2C\u4E09\u9636\u6BB5" aria-hidden="true">#</a> day09_\u4E66\u57CE\u9879\u76EE\u7B2C\u4E09\u9636\u6BB5</h1><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u8BFE\u524D\u56DE\u987E<span class="token operator">:</span>
 <span class="token number">1.</span>Thymeleaf\u4F5C\u7528<span class="token operator">:</span>\u53EF\u4EE5\u83B7\u53D6\u540E\u7AEF\u8FD4\u56DE\u7ED9\u9875\u9762\u7684\u6570\u636E<span class="token punctuation">,</span>\u5728\u9875\u9762\u4E0A\u52A8\u6001\u5C55\u793A
 <span class="token number">2.</span>\u8BBE\u7F6E\u6807\u7B7E\u4F53<span class="token operator">:</span>
   th<span class="token operator">:</span>text <span class="token operator">=</span> <span class="token string">&quot;\${\u57DF\u4E2D\u7684key}&quot;</span>
 <span class="token number">3.</span>\u8BBE\u7F6E\u6807\u7B7E\u7684value<span class="token operator">:</span>
   th<span class="token operator">:</span>value <span class="token operator">=</span> <span class="token string">&quot;\${\u57DF\u4E2D\u7684key}&quot;</span>
 <span class="token number">4.</span>\u5206\u652F\u8BED\u53E5
   th<span class="token operator">:</span><span class="token keyword">if</span> <span class="token operator">=</span> <span class="token string">&quot;\u7ED3\u679C\u4E3Atrue&quot;</span>  <span class="token operator">-&gt;</span> \u663E\u793A\u5F53\u524D\u6807\u7B7E
   th<span class="token operator">:</span><span class="token keyword">if</span> <span class="token operator">=</span> <span class="token string">&quot;\u7ED3\u679C\u4E3Afalse&quot;</span> <span class="token operator">-&gt;</span> \u4E0D\u663E\u793A\u5F53\u524D\u6807\u7B7E
   th<span class="token operator">:</span>unless <span class="token operator">=</span> <span class="token string">&quot;\u7ED3\u679C\u4E3Atrue&quot;</span> <span class="token operator">-&gt;</span> \u4E0D\u663E\u793A\u5F53\u524D\u6807\u7B7E
   th<span class="token operator">:</span>unless <span class="token operator">=</span> <span class="token string">&quot;\u7ED3\u679C\u4E3Afalse&quot;</span> <span class="token operator">-&gt;</span> \u663E\u793A\u5F53\u524D\u6807\u7B7E
 <span class="token number">5.</span>\u904D\u5386<span class="token operator">:</span>
   th<span class="token operator">:</span>each <span class="token operator">=</span> <span class="token string">&quot;\u53D8\u91CF\u540D:\${\u57DF\u4E2D\u7684key}&quot;</span>
 <span class="token number">6.</span>\u83B7\u53D6\u8BF7\u6C42\u53C2\u6570<span class="token operator">:</span>
   $<span class="token punctuation">{</span>param<span class="token punctuation">.</span>\u5C5E\u6027\u540D<span class="token punctuation">}</span>
 <span class="token number">7.</span>\u83B7\u53D6\u57DF\u4E2D\u7684\u6570\u636E
   a<span class="token punctuation">.</span>request<span class="token operator">:</span>   $<span class="token punctuation">{</span>\u57DF\u4E2D\u7684key<span class="token punctuation">}</span>
   b<span class="token punctuation">.</span>session<span class="token operator">:</span>   $<span class="token punctuation">{</span>session<span class="token punctuation">.</span>\u57DF\u4E2D\u7684key<span class="token punctuation">}</span>
   b<span class="token punctuation">.</span>servletContext<span class="token operator">:</span>  $<span class="token punctuation">{</span>application<span class="token punctuation">.</span>\u57DF\u4E2D\u7684key<span class="token punctuation">}</span>
 <span class="token number">8.</span>\u5185\u7F6E\u5BF9\u8C61<span class="token operator">:</span>lists
   $<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>\u57DF\u4E2D\u7684key<span class="token punctuation">)</span><span class="token punctuation">}</span>
 <span class="token number">9.</span>OGNL\u8868\u8FBE\u5F0F<span class="token operator">:</span>\u57FA\u4E8E\u5265\u6D0B\u8471\u7684\u601D\u60F3
 <span class="token number">10.</span>\u60F3\u4F7F\u7528<span class="token class-name">Thymeleaf</span><span class="token operator">:</span>
    a<span class="token punctuation">.</span>\u5BFCjar\u5305
    b<span class="token punctuation">.</span>\u5728web<span class="token punctuation">.</span>xml\u4E2D\u914D\u7F6E\u524D\u7F00<span class="token punctuation">(</span>\u524D\u9762\u7684\u8DEF\u5F84<span class="token punctuation">)</span>\u548C\u540E\u7F00<span class="token punctuation">(</span>\u6587\u4EF6\u540E\u7F00\u540D<span class="token punctuation">)</span>
    c<span class="token punctuation">.</span>\u4F7F\u7528<span class="token class-name">Thymeleaf</span>\u6A21\u677F<span class="token punctuation">(</span>\u5DE5\u5177\u7C7B<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E00\u7AE0-\u51C6\u5907\u5DE5\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E00\u7AE0-\u51C6\u5907\u5DE5\u4F5C" aria-hidden="true">#</a> \u7B2C\u4E00\u7AE0.\u51C6\u5907\u5DE5\u4F5C</h1><h2 id="_1-\u62F7\u8D1D\u8D44\u6E90-\u9875\u9762\u8C03\u6574" tabindex="-1"><a class="header-anchor" href="#_1-\u62F7\u8D1D\u8D44\u6E90-\u9875\u9762\u8C03\u6574" aria-hidden="true">#</a> 1.\u62F7\u8D1D\u8D44\u6E90_\u9875\u9762\u8C03\u6574</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u5C06day07_bookstore\u8D44\u6E90\u5168\u90E8\u62F7\u5230bookstore\u4E0B\u9762
    
<span class="token number">2.</span>\u5C06<span class="token class-name">Thymeleaf</span>\u7684jar\u5305\u62F7\u5230lib\u4E0B
    
<span class="token number">3.</span>\u5C06<span class="token class-name">BaseServlet</span>\u548C<span class="token class-name">ViewBaseServlet</span>\u62F7\u8D1D\u5230controller\u5305\u4E0B
    
<span class="token number">4.</span>\u5C06pages\u6587\u4EF6\u5939\u4E0B\u7684\u9875\u9762\u653E\u5230bookstore\u7684WEB<span class="token operator">-</span>INF\u4E0B<span class="token punctuation">,</span>\u4F46\u662F<span class="token keyword">static</span>\u6587\u4EF6\u5939\u76F4\u63A5\u653E\u5230web\u76EE\u5F55\u4E0B<span class="token punctuation">,</span>\u4E0D\u7136\u6D4F\u89C8\u5668\u663E\u793A\u4E0D\u4E86<span class="token keyword">static</span>\u4E0B\u7684\u56FE\u7247\u4E86
  \u5C06\u4E66\u57CE\u9996\u9875index<span class="token punctuation">.</span>html\u4E5F\u653E\u5230WEB<span class="token operator">-</span>INF\u7684pages\u6587\u4EF6\u5939\u4E0B
    
<span class="token number">5.</span>\u5C06<span class="token class-name">Thymeleaf</span>\u5728web<span class="token punctuation">.</span>xml\u7684\u914D\u7F6E\u62F7\u8D1D\u5230bookstore\u7684web<span class="token punctuation">.</span>xml\u4E2D
  \u5C06\u914D\u7F6E\u7684\u524D\u7F00\u6539\u6210<span class="token operator">:</span>  <span class="token operator">/</span>WEB<span class="token operator">-</span>INF<span class="token operator">/</span><span class="token function">pages</span><span class="token punctuation">(</span>\u56E0\u4E3A\u9875\u9762\u5728pages\u4E2D\u4E0D\u5728view\u4E2D<span class="token punctuation">)</span>
       
<span class="token number">6.</span>\u91CD\u542Ftomcat<span class="token punctuation">,</span>\u6D4F\u89C8\u5668\u8BBF\u95EE\u4E00\u4E0Bindex<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>\u8BBF\u95EE\u4E0D\u5230\u624D\u662F\u6B63\u5E38\u7684<span class="token punctuation">)</span><span class="token punctuation">,</span>\u5982\u679C\u8FD8\u80FD\u8BBF\u95EE\u5230<span class="token punctuation">(</span>\u6E05\u7A7A\u4E00\u4E0B\u6D4F\u89C8\u5668\u7F13\u5B58<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u521B\u5EFA\u76F4\u63A5\u8BBF\u95EE\u9996\u9875\u7684servlet" tabindex="-1"><a class="header-anchor" href="#_2-\u521B\u5EFA\u76F4\u63A5\u8BBF\u95EE\u9996\u9875\u7684servlet" aria-hidden="true">#</a> 2.\u521B\u5EFA\u76F4\u63A5\u8BBF\u95EE\u9996\u9875\u7684Servlet</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u7531\u4E8E\u6211\u4EEC\u5C06\u4E66\u57CE\u7684\u9996\u9875index<span class="token punctuation">.</span>html\u653E\u5230\u4E86WEB<span class="token operator">-</span>INF\u4E0B<span class="token punctuation">,</span>\u6D4F\u89C8\u5668\u76F4\u63A5\u8BBF\u95EE\u4E0D\u4E86\u4E86<span class="token punctuation">,</span>\u6240\u4EE5\u6211\u4EEC\u5C31\u9700\u8981\u4E00\u4E2A<span class="token class-name">Servlet</span>\u8F6C\u53D1\u5230WEB<span class="token operator">-</span>INF\u4E0B\u7684index<span class="token punctuation">.</span>html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
  \u6CE8\u610F:
    \u6B64Servlet\u7684url-pattern\u914D\u7F6E\u6210\u9996\u9875,\u7136\u540E\u8DF3\u8F6C\u5230WEB-INF\u4E0B\u7684\u9996\u9875index.html
    \u7531\u4E8Etomcat\u542F\u52A8\u4F1A\u5148\u8BBF\u95EEindex.html,WEB\u76EE\u5F55\u4E0B\u6CA1\u6709(\u56E0\u4E3Aindex.html\u653E\u5230WEB-INF\u4E0B\u4E86)
    \u4F46\u662FServlet\u4E2D\u5199\u4E86index.html,\u6240\u4EE5tomcat\u5C31\u4F1A\u53BB\u8BBF\u95EEServlet\u4E2D\u8BBE\u7F6E\u7684index.html
    \u4E5F\u5C31\u8BBF\u95EE\u4E86\u6B64Servlet
    
    \u4EE5\u540E\u5199localhost:8080/bookstore
         localhost:8080/bookstore/index.html
    \u90FD\u4F1A\u8DF3\u8F6C\u5230\u8FD9\u4E2AServlet\u4E2D,\u4E5F\u5C31\u8F6C\u53D1\u5230\u4E86WEB-INF\u4E0B\u7684\u9996\u9875index.html\u4E2D
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PortalServlet</span> <span class="token keyword">extends</span> <span class="token class-name">ViewBaseServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u91CD\u542Ftomcat<span class="token punctuation">,</span>\u770B\u770B\u80FD\u4E0D\u80FD\u6B63\u5E38\u8BBF\u95EE\u5230index<span class="token punctuation">.</span>html
<span class="token number">2.</span>\u80AF\u5B9A\u662F\u8BBF\u95EE\u5230\u7684<span class="token punctuation">,</span>\u4F46\u662F\u4E66\u57CE\u9996\u9875\u7684\u56FE\u7247\u51FA\u4E0D\u6765
<span class="token number">3.</span>\u4FEE\u6539index<span class="token punctuation">.</span>html<span class="token punctuation">,</span>\u5C06<span class="token punctuation">.</span><span class="token punctuation">.</span>/<span class="token punctuation">.</span><span class="token punctuation">.</span>/\u5168\u90E8\u5E72\u6389
<span class="token number">4.</span>\u91CD\u65B0\u90E8\u7F72\u9879\u76EE<span class="token punctuation">,</span>\u91CD\u65B0\u8BBF\u95EE
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E8C\u7AE0-\u91CD\u6784\u767B\u5F55\u548C\u6CE8\u518C\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E8C\u7AE0-\u91CD\u6784\u767B\u5F55\u548C\u6CE8\u518C\u529F\u80FD" aria-hidden="true">#</a> \u7B2C\u4E8C\u7AE0.\u91CD\u6784\u767B\u5F55\u548C\u6CE8\u518C\u529F\u80FD</h1><h2 id="_1-\u91CD\u6784\u767B\u5F55\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_1-\u91CD\u6784\u767B\u5F55\u529F\u80FD" aria-hidden="true">#</a> 1.\u91CD\u6784\u767B\u5F55\u529F\u80FD</h2><h3 id="_1-1-\u8DF3\u8F6C\u767B\u5F55\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_1-1-\u8DF3\u8F6C\u767B\u5F55\u9875\u9762" aria-hidden="true">#</a> 1.1.\u8DF3\u8F6C\u767B\u5F55\u9875\u9762</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u7531\u4E8E\u6211\u4EEC\u5C06\u9875\u9762\u653E\u5230\u4E86WEB<span class="token operator">-</span>INF\u4E0B<span class="token punctuation">,</span>\u6240\u4EE5\u70B9\u51FB\u9996\u9875\u7684<span class="token string">&quot;\u767B\u5F55&quot;</span>\u80AF\u5B9A\u8DF3\u8F6C\u4E0D\u5230<span class="token string">&quot;\u767B\u5F55\u9875\u9762&quot;</span>
<span class="token number">2.</span>\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u6574\u4E00\u4E2A<span class="token class-name">Servlet</span>\u8DF3\u8F6C\u5230<span class="token string">&quot;\u767B\u5F55\u9875\u9762&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--\u4FEE\u6539index.html--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user?method=toLoginPage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u767B\u5F55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user?method=toRegisterPage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>register<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6CE8\u518C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">BaseServlet</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toLoginPage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
       <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://photo.sneoo.com/spring5/202207051123533.png" alt="image-20211106170134757" style="zoom:80%;"><h3 id="_1-2-\u91CD\u6784\u767B\u5F55\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_1-2-\u91CD\u6784\u767B\u5F55\u529F\u80FD" aria-hidden="true">#</a> 1.2.\u91CD\u6784\u767B\u5F55\u529F\u80FD</h3><h4 id="_1-2-1-\u4FEE\u6539login-html" tabindex="-1"><a class="header-anchor" href="#_1-2-1-\u4FEE\u6539login-html" aria-hidden="true">#</a> 1.2.1.\u4FEE\u6539login.html</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--
    \u8BBE\u7F6E\u9690\u85CF\u57DF,\u8C03\u7528Servlet\u65B9\u6CD5
  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doLogin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-2-servlet\u5C42" tabindex="-1"><a class="header-anchor" href="#_1-2-2-servlet\u5C42" aria-hidden="true">#</a> 1.2.2.Servlet\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code> <span class="token comment">//\u7528\u6237\u767B\u5F55</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doLogin</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u63D0\u4EA4\u7684\u53C2\u6570</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u52A0\u5BC6,\u56E0\u4E3A\u6570\u636E\u5E93\u4E2D\u5B58\u8FDB\u53BB\u7684\u6570\u636E\u90FD\u662F\u52A0\u5BC6\u7684,\u6240\u4EE5\u53EA\u6709\u52A0\u5BC6\u4E4B\u540E\u624D\u80FD\u548C\u6570\u636E\u5E93\u7684\u6570\u636E\u5BF9\u4E0A</span>
        <span class="token class-name">String</span> pwd <span class="token operator">=</span> <span class="token class-name">MD5Utils</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//\u8C03\u7528Service\u5C42\u65B9\u6CD5</span>
            <span class="token class-name">User</span> user <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">loginUser</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> pwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;user/login_success&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token comment">//\u5C06\u9519\u8BEF\u63D0\u793A\u653E\u5230\u57DF\u4E2D</span>
                request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;loginMessage&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;\u5BF9\u4E0D\u8D77,\u767B\u5F55\u5931\u8D25!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//\u5C06\u9875\u9762\u91CD\u65B0\u8DF3\u8F6C\u5230\u767B\u5F55\u9875\u9762</span>
                <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;user/login&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-3-login-html\u9875\u9762\u4FEE\u6539" tabindex="-1"><a class="header-anchor" href="#_1-2-3-login-html\u9875\u9762\u4FEE\u6539" aria-hidden="true">#</a> 1.2.3.login.html\u9875\u9762\u4FEE\u6539</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--
\u5728\u767B\u5F55\u6309\u94AE\u4E0A\u9762\u6DFB\u52A0\u4E00\u4E2Adiv,\u7528\u4E8E\u5C55\u793A&quot;\u767B\u5F55\u5931\u8D25&quot;\u4FE1\u606F\u63D0\u793A
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${loginMessage}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-4-\u767B\u5F55\u5931\u8D25-\u7528\u6237\u540D\u548C\u5BC6\u7801\u56DE\u663E" tabindex="-1"><a class="header-anchor" href="#_1-2-4-\u767B\u5F55\u5931\u8D25-\u7528\u6237\u540D\u548C\u5BC6\u7801\u56DE\u663E" aria-hidden="true">#</a> 1.2.4.\u767B\u5F55\u5931\u8D25,\u7528\u6237\u540D\u548C\u5BC6\u7801\u56DE\u663E</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u7531\u4E8E\u8DF3\u8F6C\u9875\u9762\u7684\u65F6\u5019<span class="token punctuation">,</span>\u4F20\u9012\u4E86request\u548Cresponse\u5BF9\u8C61<span class="token punctuation">,</span>\u90A3\u4E48\u9875\u9762\u4E0A\u4E5F\u5C31\u6709\u4E86\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u53C2\u6570
<span class="token number">2.</span>\u9875\u9762\u4E0A\u5C31\u53EF\u4EE5\u4F7F\u7528param\u5BF9\u8C61\u6765\u83B7\u53D6\u8BF7\u6C42\u5BF9\u8C61\u4E2D\u7684username\u548Cpassword
<span class="token number">3.</span>\u8BED\u6CD5<span class="token operator">:</span>
  th<span class="token operator">:</span>value <span class="token operator">=</span> <span class="token string">&quot;\${param.username}&quot;</span>
<span class="token number">4.</span>\u6CE8\u610F<span class="token operator">:</span>\u6253\u5F00\u9875\u9762\u5E76\u6CA1\u6709\u770B\u5230
  a<span class="token punctuation">.</span>\u670D\u52A1\u5668\u7AEF\u6E32\u67D3
  b<span class="token punctuation">.</span>\u670D\u52A1\u5668\u7AEF\u5C06\u6E32\u67D3\u7ED3\u679C\u4F5C\u4E3A\u54CD\u5E94\u6570\u636E\u8FD4\u56DE\u7ED9\u6D4F\u89C8\u5668
  c<span class="token punctuation">.</span>\u6D4F\u89C8\u5668\u52A0\u8F7DHTML\u6587\u6863
  d<span class="token punctuation">.</span>\u8BFB\u53D6\u5230<span class="token class-name">Vue</span>\u4EE3\u7801\u540E\uFF0C\u6267\u884C<span class="token class-name">Vue</span>\u4EE3\u7801
  <span class="token class-name"><span class="token namespace">e<span class="token punctuation">.</span></span>Vue</span>\u53C8\u8FDB\u884C\u4E86\u4E00\u6B21\u6D4F\u89C8\u5668\u7AEF\u6E32\u67D3\uFF0C\u8986\u76D6\u4E86\u670D\u52A1\u5668\u7AEF\u6E32\u67D3\u7684\u503C
<span class="token number">5.</span>\u5C06\u670D\u52A1\u5668\u7AEF\u6E32\u67D3\u7684\u7ED3\u679C\u8BBE\u7F6E\u5230<span class="token class-name">Vue</span>\u5BF9\u8C61\u7684data\u5C5E\u6027\u4E2D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u5728login<span class="token punctuation">.</span>html\u7684vue\u4E2D\u4FEE\u6539data\u5C5E\u6027<span class="token operator">:</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
data<span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token comment">//\u5B9A\u4E49\u5BF9\u8C61\u6570\u636E\uFF0C\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF0C\u6D88\u606F\u63D0\u793A</span>
       <span class="token comment">//\u5229\u7528thymeleaf\u4ECErequest\u57DF\u4E2D\u83B7\u53D6username\u653E\u5230vue\u4E2D</span>
       username<span class="token operator">:</span> <span class="token string">&quot;[[\${param.username}]]&quot;</span><span class="token punctuation">,</span>
       password<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
       errorMsg<span class="token operator">:</span> <span class="token string">&quot;\u8BF7\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u4FEE\u6539\u767B\u5F55\u6210\u529F\u9875\u9762<span class="token operator">:</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token number">1.</span>\u52A0\u4E0Abase\u6807\u7B7E
<span class="token number">2.</span>\u5C06<span class="token punctuation">.</span><span class="token punctuation">.</span>/\u5168\u90E8\u5E72\u6389
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u91CD\u6784\u6CE8\u518C\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_2-\u91CD\u6784\u6CE8\u518C\u529F\u80FD" aria-hidden="true">#</a> 2.\u91CD\u6784\u6CE8\u518C\u529F\u80FD</h2><img src="https://photo.sneoo.com/spring5/202207051123534.png" alt="image-20211106180150627" style="zoom:75%;"><h3 id="_2-1-\u8DF3\u8F6C\u6CE8\u518C\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_2-1-\u8DF3\u8F6C\u6CE8\u518C\u9875\u9762" aria-hidden="true">#</a> 2.1.\u8DF3\u8F6C\u6CE8\u518C\u9875\u9762</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728index.html\u4E2D\u6DFB\u52A0
=================================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user?method=toRegisterPage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>register<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6CE8\u518C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u5728<span class="token class-name">UserServlet</span>\u4E2D\u6DFB\u52A0
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toRegisterPage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;/user/regist&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-\u91CD\u6784\u6CE8\u518C\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_2-2-\u91CD\u6784\u6CE8\u518C\u529F\u80FD" aria-hidden="true">#</a> 2.2.\u91CD\u6784\u6CE8\u518C\u529F\u80FD</h3><h4 id="_2-2-1-\u4FEE\u6539\u6CE8\u518C\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_2-2-1-\u4FEE\u6539\u6CE8\u518C\u9875\u9762" aria-hidden="true">#</a> 2.2.1.\u4FEE\u6539\u6CE8\u518C\u9875\u9762</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539regist.html
=================================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>doRegister<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-2-servlet\u5C42" tabindex="-1"><a class="header-anchor" href="#_2-2-2-servlet\u5C42" aria-hidden="true">#</a> 2.2.2.Servlet\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doRegister</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">populate</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
            user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">MD5Utils</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">int</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;user/regist_success.html&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;\u6CE8\u518C\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;user/regist.html&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u5728regist.html\u9875\u9762\u6DFB\u52A0div
===================================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${message}<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-3-\u4FEE\u6539\u6CE8\u518C\u6210\u529F\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_2-2-3-\u4FEE\u6539\u6CE8\u518C\u6210\u529F\u9875\u9762" aria-hidden="true">#</a> 2.2.3.\u4FEE\u6539\u6CE8\u518C\u6210\u529F\u9875\u9762</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u4FEE\u6539\u6CE8\u518C\u6210\u529F\u9875\u9762<span class="token operator">:</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token number">1.</span>\u52A0\u4E0Abase\u6807\u7B7E
<span class="token number">2.</span>\u5C06<span class="token punctuation">.</span><span class="token punctuation">.</span>/\u5168\u90E8\u5E72\u6389
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E09\u7AE0-\u4E66\u57CE\u9879\u76EE-\u540E\u53F0\u56FE\u4E66\u589E\u5220\u6539\u67E5-\u524D\u671F\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E09\u7AE0-\u4E66\u57CE\u9879\u76EE-\u540E\u53F0\u56FE\u4E66\u589E\u5220\u6539\u67E5-\u524D\u671F\u51C6\u5907" aria-hidden="true">#</a> \u7B2C\u4E09\u7AE0.\u4E66\u57CE\u9879\u76EE_\u540E\u53F0\u56FE\u4E66\u589E\u5220\u6539\u67E5__\u524D\u671F\u51C6\u5907</h1><h2 id="_1-\u524D\u53F0\u540E\u53F0\u7684\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_1-\u524D\u53F0\u540E\u53F0\u7684\u4ECB\u7ECD" aria-hidden="true">#</a> 1.\u524D\u53F0\u540E\u53F0\u7684\u4ECB\u7ECD</h2><h3 id="_1-1-\u524D\u7AEF\u548C\u540E\u7AEF" tabindex="-1"><a class="header-anchor" href="#_1-1-\u524D\u7AEF\u548C\u540E\u7AEF" aria-hidden="true">#</a> 1.1.\u524D\u7AEF\u548C\u540E\u7AEF</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u524D\u7AEF<span class="token operator">:</span>\u6307\u7684\u662F\u6D4F\u89C8\u5668
\u540E\u7AEF<span class="token operator">:</span>\u6307\u7684\u662F\u670D\u52A1\u5668\u7A0B\u5E8F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://photo.sneoo.com/spring5/202207051123535.png" alt="image-20211106185534585" style="zoom:70%;"><h3 id="_1-2-\u524D\u53F0\u548C\u540E\u53F0" tabindex="-1"><a class="header-anchor" href="#_1-2-\u524D\u53F0\u548C\u540E\u53F0" aria-hidden="true">#</a> 1.2.\u524D\u53F0\u548C\u540E\u53F0</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u524D\u53F0\u548C\u540E\u53F0\u6307\u7684\u4E0D\u662F\u6280\u672F\u4E0A\u7684\u4E0D\u540C<span class="token punctuation">,</span>\u800C\u662F\u6743\u9650<span class="token punctuation">,</span>\u89D2\u8272\u4E4B\u95F4\u7684\u4E0D\u540C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://photo.sneoo.com/spring5/202207051123536.png" alt="image-20211106190308792" style="zoom:60%;"><h2 id="_2-\u8FDB\u5165\u5230\u4E66\u57CE\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF" tabindex="-1"><a class="header-anchor" href="#_2-\u8FDB\u5165\u5230\u4E66\u57CE\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF" aria-hidden="true">#</a> 2.\u8FDB\u5165\u5230\u4E66\u57CE\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u7531\u4E8E\u5728\u6D4F\u89C8\u5668\u4E0D\u80FD\u76F4\u63A5\u8FDB\u5165\u5230WEB<span class="token operator">-</span>INF<span class="token operator">/</span>pages<span class="token operator">/</span>manager\u4E0B\u7684\u9875\u9762<span class="token punctuation">,</span>\u6240\u4EE5\u6211\u4EEC\u76F4\u63A5\u521B\u5EFA\u4E00\u4E2A<span class="token class-name">Servlet</span>\u8F6C\u53D1\u5230manager\u4E0B\u7684\u9875\u9762\u4E2D
    
<span class="token number">2.</span>\u8BBF\u95EElocalhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>bookstore<span class="token operator">/</span>admin<span class="token operator">?</span>method<span class="token operator">=</span>toManagerPage
  \u76F4\u63A5\u8DF3\u8F6C\u540E\u53F0\u4E3B\u9875    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
  \u8BBF\u95EElocalhost:8080/bookstore/admin?method=toManagerPage
  \u76F4\u63A5\u8DF3\u8F6C\u540E\u53F0\u4E3B\u9875
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/admin&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdminServlet</span> <span class="token keyword">extends</span> <span class="token class-name">BaseServlet</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toManagerPage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
       <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;manager/manager&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u9875\u9762\u5171\u6027\u62BD\u53D6" tabindex="-1"><a class="header-anchor" href="#_3-\u9875\u9762\u5171\u6027\u62BD\u53D6" aria-hidden="true">#</a> 3.\u9875\u9762\u5171\u6027\u62BD\u53D6</h2><h3 id="_3-1-\u8DF3\u8F6C\u56FE\u4E66\u7BA1\u7406\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_3-1-\u8DF3\u8F6C\u56FE\u4E66\u7BA1\u7406\u9875\u9762" aria-hidden="true">#</a> 3.1.\u8DF3\u8F6C\u56FE\u4E66\u7BA1\u7406\u9875\u9762</h3><h4 id="_3-1-1-\u4FEE\u6539manager-html" tabindex="-1"><a class="header-anchor" href="#_3-1-1-\u4FEE\u6539manager-html" aria-hidden="true">#</a> 3.1.1.\u4FEE\u6539manager.html</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin?method=toBookManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u56FE\u4E66\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-1-2-\u5728adminservlet\u4E2D\u6DFB\u52A0\u8DF3\u8F6C\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_3-1-2-\u5728adminservlet\u4E2D\u6DFB\u52A0\u8DF3\u8F6C\u65B9\u6CD5" aria-hidden="true">#</a> 3.1.2.\u5728AdminServlet\u4E2D\u6DFB\u52A0\u8DF3\u8F6C\u65B9\u6CD5</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toBookManager</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
       <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;manager/book_manager&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-3-\u4FEE\u6539book-manager-html" tabindex="-1"><a class="header-anchor" href="#_3-1-3-\u4FEE\u6539book-manager-html" aria-hidden="true">#</a> 3.1.3.\u4FEE\u6539book_manager.html</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>1.\u6DFB\u52A0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
2.\u6DFB\u52A0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/bookstore/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
3.\u53BB\u6389../
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-\u9875\u9762\u5171\u6027\u62BD\u53D6-\u76F4\u63A5\u7C98\u8D34\u5373\u53EF" tabindex="-1"><a class="header-anchor" href="#_3-2-\u9875\u9762\u5171\u6027\u62BD\u53D6-\u76F4\u63A5\u7C98\u8D34\u5373\u53EF" aria-hidden="true">#</a> 3.2.\u9875\u9762\u5171\u6027\u62BD\u53D6(\u76F4\u63A5\u7C98\u8D34\u5373\u53EF)</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u95EE\u9898\u63CF\u8FF0<span class="token operator">:</span>\u6211\u4EEC\u8BBF\u95EE\u4E86\u540E\u53F0\u9996\u9875<span class="token punctuation">,</span>\u4E5F\u8DF3\u8F6C\u5230\u4E86\u56FE\u4E66\u7BA1\u7406\u9875\u9762<span class="token punctuation">,</span>\u6211\u4EEC\u53D1\u73B0\u6BCF\u4E2A\u9875\u9762\u53F3\u4E0A\u65B9\u7684\u8D85\u94FE\u63A5\u90FD\u4E00\u6837<span class="token punctuation">,</span>\u6BCF\u4E2A\u9875\u9762\u90FD\u5199\u4E00\u6B21\u90FD\u5F88\u9EBB\u70E6
<span class="token number">2.</span>\u95EE\u9898\u89E3\u51B3<span class="token operator">:</span>
  \u5C06\u9875\u9762\u4E2D\u76F8\u540C\u7684\u7EC4\u4EF6\u62BD\u53D6\u51FA\u6765<span class="token punctuation">,</span>\u7136\u540E\u5728\u6BCF\u4E2A\u9875\u9762\u4E2D\u76F4\u63A5\u5F15\u5165\u5373\u53EF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://photo.sneoo.com/spring5/202207051123537.png" alt="image-20211106211131057" style="zoom:60%;"><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u5728pages\u5305\u4E0B\u521B\u5EFA\u5B50\u6587\u4EF6\u5939<span class="token operator">:</span>segment
<span class="token number">2.</span>\u5728segment\u5305\u4E0B\u521B\u5EFA\u9875\u9762<span class="token operator">:</span>admin<span class="token operator">-</span>navigator<span class="token punctuation">.</span>html
<span class="token number">3.</span>\u6784\u5EFAadmin<span class="token operator">-</span>navigator<span class="token punctuation">.</span>html\u9875\u9762
<span class="token number">4.</span>\u5C06admin<span class="token operator">-</span>navigator<span class="token punctuation">.</span>html\u5F15\u5165\u5230manager\u548Cbook_manager\u9875\u9762\u4E2D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>admin-navigator.html
================================
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/bookstore/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u4F7F\u7528th:fragment\u5C5E\u6027\u7ED9\u4EE3\u7801\u7247\u6BB5\u547D\u540D --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigator<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin?method=toBookManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u56FE\u4E66\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>order_manager.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BA2\u5355\u7BA1\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gohome<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8FD4\u56DE\u5546\u57CE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539manager.html
=======================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo_img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>static/img/logo.gif<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wel_word<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment/admin-navigator :: navigator<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539book-manager.html
======================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-right<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment/admin-navigator :: navigator<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u56DB\u7AE0-\u4E66\u57CE\u9879\u76EE-\u540E\u53F0\u56FE\u4E66\u589E\u5220\u6539\u67E5" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u56DB\u7AE0-\u4E66\u57CE\u9879\u76EE-\u540E\u53F0\u56FE\u4E66\u589E\u5220\u6539\u67E5" aria-hidden="true">#</a> \u7B2C\u56DB\u7AE0.\u4E66\u57CE\u9879\u76EE_\u540E\u53F0\u56FE\u4E66\u589E\u5220\u6539\u67E5</h1><h2 id="_1-\u56FE\u4E66\u6570\u636E\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#_1-\u56FE\u4E66\u6570\u636E\u51C6\u5907" aria-hidden="true">#</a> 1.\u56FE\u4E66\u6570\u636E\u51C6\u5907</h2><h3 id="_1-1-\u56FE\u4E66\u8868\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#_1-1-\u56FE\u4E66\u8868\u51C6\u5907" aria-hidden="true">#</a> 1.1.\u56FE\u4E66\u8868\u51C6\u5907</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u76F4\u63A5\u627E\u4E4B\u524D\u521B\u5EFA\u7684bookstore\u6570\u636E\u5E93\u4E2D\u7684t_book\u8868
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-2-t-book\u8868\u5BF9\u5E94javabean\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#_1-2-t-book\u8868\u5BF9\u5E94javabean\u51C6\u5907" aria-hidden="true">#</a> 1.2.t_book\u8868\u5BF9\u5E94JavaBean\u51C6\u5907</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/*
 *  Book\u7C7B\uFF0C\u6570\u636E\u8868t_book\u5BF9\u5E94
 *  \u76F4\u63A5\u4F7F\u7528Lombok\u521B\u5EFA
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> bookId<span class="token punctuation">;</span> <span class="token comment">//\u4E66\u7F16\u53F7\uFF0C\u4E3B\u952E</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bookName<span class="token punctuation">;</span> <span class="token comment">//\u4E66\u540D</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span><span class="token comment">//\u4F5C\u8005</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> price<span class="token punctuation">;</span> <span class="token comment">//\u552E\u4EF7</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> sales<span class="token punctuation">;</span> <span class="token comment">//\u9500\u91CF</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> stock<span class="token punctuation">;</span> <span class="token comment">//\u5E93\u5B58</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> imgPath<span class="token punctuation">;</span> <span class="token comment">//\u56FE\u7247\u8DEF\u5F84</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u67E5\u8BE2\u6240\u6709\u56FE\u4E66" tabindex="-1"><a class="header-anchor" href="#_2-\u67E5\u8BE2\u6240\u6709\u56FE\u4E66" aria-hidden="true">#</a> 2.\u67E5\u8BE2\u6240\u6709\u56FE\u4E66</h2><img src="https://photo.sneoo.com/spring5/202207051123538.png" alt="image-20211106224443370" style="zoom:67%;"><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u6211\u4EEC\u4E00\u65E6\u8DF3\u8F6C\u5230\u56FE\u4E66\u7BA1\u7406\u9875\u9762<span class="token punctuation">,</span>\u5C31\u5E94\u8BE5\u91CC\u9762\u663E\u793A\u6570\u636E\u5E93\u4E2D\u6240\u6709\u7684\u56FE\u4E66<span class="token punctuation">,</span>\u6240\u4EE5\u8981\u8DF3\u8F6C\u4E4B\u540E\u76F4\u63A5\u67E5\u6240\u6709
<span class="token number">2.</span>\u521B\u5EFA<span class="token class-name">BookService</span>\u63A5\u53E3<span class="token punctuation">,</span><span class="token class-name">BookDao</span>\u63A5\u53E3
  \u521B\u5EFA<span class="token class-name">BookServiceImpl</span>\u5B9E\u73B0\u7C7B<span class="token punctuation">,</span><span class="token class-name">BookDaoImpl</span>\u5B9E\u73B0\u7C7B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1-\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF-servlet\u5C42-adminservlet" tabindex="-1"><a class="header-anchor" href="#_2-1-\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF-servlet\u5C42-adminservlet" aria-hidden="true">#</a> 2.1.\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF_Servlet\u5C42__AdminServlet</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>   <span class="token comment">/*
     \u56FE\u4E66\u7BA1\u7406
    */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toBookManager</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
       <span class="token keyword">try</span> <span class="token punctuation">{</span>
           <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> bookService<span class="token punctuation">.</span><span class="token function">showBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;booklist&quot;</span><span class="token punctuation">,</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;manager/book_manager&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF-service\u5C42" tabindex="-1"><a class="header-anchor" href="#_2-2-\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF-service\u5C42" aria-hidden="true">#</a> 2.2.\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF_Service\u5C42</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">showBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
 <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">showBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">showBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF-dao\u5C42" tabindex="-1"><a class="header-anchor" href="#_2-3-\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF-dao\u5C42" aria-hidden="true">#</a> 2.3.\u67E5\u8BE2\u56FE\u4E66\u670D\u52A1\u7AEF_Dao\u5C42</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">showBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
 <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> <span class="token function">showBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select book_id bookId,book_name bookName,author,price,sales,stock,img_path imgPath from t_book&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanListHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-\u5BA2\u6237\u7AEF\u9875\u9762\u5C55\u793A\u6240\u6709\u56FE\u4E66" tabindex="-1"><a class="header-anchor" href="#_2-4-\u5BA2\u6237\u7AEF\u9875\u9762\u5C55\u793A\u6240\u6709\u56FE\u4E66" aria-hidden="true">#</a> 2.4.\u5BA2\u6237\u7AEF\u9875\u9762\u5C55\u793A\u6240\u6709\u56FE\u4E66</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539book_manager.html
================================================================
<span class="token comment">&lt;!--
  \u5982\u679C\u96C6\u5408\u4E2D\u6C92\u6709\u5143\u7D20\uFF0C\u5C31\u663E\u793A&quot;\u6CA1\u6709\u56FE\u4E66,\u8BF7\u6DFB\u52A0&quot;\u7684\u63D0\u793A
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#lists.isEmpty(booklist)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>7<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      \u6CA1\u6709\u56FE\u4E66,\u8BF7\u6DFB\u52A0
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span> 

<span class="token comment">&lt;!--
  \u5982\u679C\u96C6\u5408\u4E2D\u6709\u5143\u7D20\uFF0C\u5C31\u663E\u793A\u5728\u9875\u9762\u4E0A
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#lists.isEmpty(booklist)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>book:\${booklist}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.imgPath}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.bookName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6D3B\u7740<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                100.00
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.author}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4F59\u534E<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.sales}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>200<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.stock}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>400<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book_edit.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4FEE\u6539<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>del<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5220\u9664<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u5220\u9664\u56FE\u4E66" tabindex="-1"><a class="header-anchor" href="#_3-\u5220\u9664\u56FE\u4E66" aria-hidden="true">#</a> 3.\u5220\u9664\u56FE\u4E66</h2><img src="https://photo.sneoo.com/spring5/202207051123539.png" alt="image-20211107000412274" style="zoom:67%;"><h3 id="_3-1-\u4FEE\u6539book-manager-html" tabindex="-1"><a class="header-anchor" href="#_3-1-\u4FEE\u6539book-manager-html" aria-hidden="true">#</a> 3.1.\u4FEE\u6539book_manager.html</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/admin(method=removeBook,id=\${book.bookId})}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>del<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5220\u9664<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-2-servlet\u5C42-adminservlet" tabindex="-1"><a class="header-anchor" href="#_3-2-servlet\u5C42-adminservlet" aria-hidden="true">#</a> 3.2.Servlet\u5C42_AdminServlet</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>   <span class="token comment">/*
    \u5220\u9664\u56FE\u4E66
    */</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeBook</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
       <span class="token comment">//\u83B7\u53D6\u8BF7\u6C42\u4E2D\u7684id</span>
       <span class="token class-name">String</span> id <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//\u8C03\u7528Service\u5C42\u65B9\u6CD5,\u4F20\u9012id</span>
       <span class="token keyword">try</span> <span class="token punctuation">{</span>
           <span class="token keyword">int</span> result <span class="token operator">=</span> bookService<span class="token punctuation">.</span><span class="token function">removeBook</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token comment">/*
             \u91CD\u5B9A\u5411\u5230\u5F53\u524Dservlet\u4E2D\u7684toBookManager\u4E2D
             \u7531\u4E8E\u4E0D\u662F\u76F4\u63A5\u8DF3\u5230\u56FE\u4E66\u7BA1\u7406\u9875\u9762,\u6240\u6709\u4E0D\u7528\u8F6C\u53D1
           */</span>
           response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/admin?method=toBookManager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-service\u5C42" tabindex="-1"><a class="header-anchor" href="#_3-3-service\u5C42" aria-hidden="true">#</a> 3.3.Service\u5C42</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
	<span class="token keyword">int</span> <span class="token function">removeBook</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">removeBook</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">removeBook</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-dao\u5C42" tabindex="-1"><a class="header-anchor" href="#_3-4-dao\u5C42" aria-hidden="true">#</a> 3.4.Dao\u5C42</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
    <span class="token keyword">int</span> <span class="token function">removeBook</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">removeBook</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;delete from t_book where book_id = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-\u6DFB\u52A0\u56FE\u4E66" tabindex="-1"><a class="header-anchor" href="#_4-\u6DFB\u52A0\u56FE\u4E66" aria-hidden="true">#</a> 4.\u6DFB\u52A0\u56FE\u4E66</h2><h3 id="_4-1-\u6DFB\u52A0\u56FE\u4E66\u9875\u9762\u8DF3\u8F6C" tabindex="-1"><a class="header-anchor" href="#_4-1-\u6DFB\u52A0\u56FE\u4E66\u9875\u9762\u8DF3\u8F6C" aria-hidden="true">#</a> 4.1.\u6DFB\u52A0\u56FE\u4E66\u9875\u9762\u8DF3\u8F6C</h3><img src="https://photo.sneoo.com/spring5/202207051123540.png" alt="image-20211107000522682" style="zoom:67%;"><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539book_manager.html
============================================================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin?method=toAddPage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u56FE\u4E66<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!--&lt;a th:href=&quot;@{/admin(method=toAddPage)}&quot;&gt;\u6DFB\u52A0\u56FE\u4E66&lt;/a&gt;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539book_edit.html
============================================================================
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-right<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>segment/admin-navigator :: navigator<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token comment">&lt;!-- &lt;a href=&quot;book_manager.html&quot; class=&quot;order&quot;&gt;\u56FE\u4E66\u7BA1\u7406&lt;/a&gt;
          &lt;a href=&quot;order_manager.html&quot; class=&quot;destory&quot;&gt;\u8BA2\u5355\u7BA1\u7406&lt;/a&gt;
          &lt;a href=&quot;index.html&quot; class=&quot;gohome&quot;&gt;\u8FD4\u56DE\u5546\u57CE&lt;/a&gt;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
===========================================================================
1.\u6DFB\u52A0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
2.\u6DFB\u52A0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/bookstore/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
3.\u5E72\u6389../
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-\u8C03\u6574\u6DFB\u52A0\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_4-2-\u8C03\u6574\u6DFB\u52A0\u9875\u9762" aria-hidden="true">#</a> 4.2.\u8C03\u6574\u6DFB\u52A0\u9875\u9762</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539book_edit\u9875\u9762
====================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token comment">&lt;!--
  \u7531\u4E8E\u6DFB\u52A0\u548C\u4FEE\u6539\u56FE\u4E66\u662F\u4E00\u4E2A\u9875\u9762,\u90A3\u4E48\u6211\u4EEC\u4E5F\u5B9A\u4E49\u4E00\u4E2A\u65B9\u6CD5,\u5B9E\u73B0\u4E24\u4E2A\u529F\u80FD
 --&gt;</span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>saveOrUpdateBook<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-\u6DFB\u52A0\u56FE\u4E66\u670D\u52A1\u7AEF" tabindex="-1"><a class="header-anchor" href="#_4-3-\u6DFB\u52A0\u56FE\u4E66\u670D\u52A1\u7AEF" aria-hidden="true">#</a> 4.3.\u6DFB\u52A0\u56FE\u4E66\u670D\u52A1\u7AEF</h3><img src="https://photo.sneoo.com/spring5/202207051123541.png" alt="image-20211107020051298" style="zoom:67%;"><h4 id="_4-3-1-servlet\u5C42" tabindex="-1"><a class="header-anchor" href="#_4-3-1-servlet\u5C42" aria-hidden="true">#</a> 4.3.1.Servlet\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/*
     \u6DFB\u52A0\u548C\u4FEE\u6539\u56FE\u4E66
    */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u63D0\u4EA4\u7684\u53C2\u6570</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u521B\u5EFABook\u5BF9\u8C61</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">populate</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u8C03\u7528service\u5C42\u6DFB\u52A0\u548C\u4FEE\u6539\u65B9\u6CD5</span>
            bookService<span class="token punctuation">.</span><span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u9875\u9762\u91CD\u5B9A\u5411\u5230&quot;\u56FE\u4E66\u7BA1\u7406\u9875\u9762&quot;</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/admin?method=toBookManager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-2-service\u5C42" tabindex="-1"><a class="header-anchor" href="#_4-3-2-service\u5C42" aria-hidden="true">#</a> 4.3.2.Service\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
	<span class="token keyword">int</span> <span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
   <span class="token comment">/*
      \u505A\u4E2A\u5224\u65AD
      \u5982\u679C\u662F\u4FEE\u6539\u64CD\u4F5C,\u80AF\u5B9A\u5E26id,id\u4E0D\u4E3Anull,\u56E0\u4E3A\u9700\u8981\u6839\u636Eid\u4FEE\u6539\u56FE\u4E66
      \u5982\u679C\u662F\u6DFB\u52A0\u64CD\u4F5C,\u80AF\u5B9Aid\u5C31\u4E3Anull,id\u4E3A\u4E3B\u952E\u81EA\u589E,\u80AF\u5B9A\u4E0D\u7528\u5E26id
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span> id <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">getBookId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//\u56FA\u5B9A\u8BBE\u7F6E\u56FE\u4E66\u7684\u56FE\u7247\u8DEF\u5F84,\u56E0\u4E3A\u6CA1\u6709\u505A\u6587\u4EF6\u4E0A\u4F20,\u6240\u4EE5\u628A\u6DFB\u52A0\u7684\u56FE\u7247\u5199\u6B7B</span>
            book<span class="token punctuation">.</span><span class="token function">setImgPath</span><span class="token punctuation">(</span><span class="token string">&quot;static/uploads/jiaofu.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> result01 <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">addBook</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result01<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token comment">//int result02 = bookDao.updateBook(book);</span>
            <span class="token comment">//return result02;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-3-dao\u5C42" tabindex="-1"><a class="header-anchor" href="#_4-3-3-dao\u5C42" aria-hidden="true">#</a> 4.3.3.Dao\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
	<span class="token keyword">int</span> <span class="token function">addBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">addBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into t_book values (?,?,?,?,?,?,?)&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getBookId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getBookName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>book<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>book<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getSales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getStock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getImgPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-\u4FEE\u6539\u56FE\u4E66" tabindex="-1"><a class="header-anchor" href="#_5-\u4FEE\u6539\u56FE\u4E66" aria-hidden="true">#</a> 5.\u4FEE\u6539\u56FE\u4E66</h2><h3 id="_5-1-\u4FEE\u6539\u65F6\u6570\u636E\u67E5\u8BE2\u56DE\u663E-\u670D\u52A1\u7AEF" tabindex="-1"><a class="header-anchor" href="#_5-1-\u4FEE\u6539\u65F6\u6570\u636E\u67E5\u8BE2\u56DE\u663E-\u670D\u52A1\u7AEF" aria-hidden="true">#</a> 5.1.\u4FEE\u6539\u65F6\u6570\u636E\u67E5\u8BE2\u56DE\u663E_\u670D\u52A1\u7AEF</h3><img src="https://photo.sneoo.com/spring5/202207051123542.png" alt="image-20211107020207415" style="zoom:67%;"><h4 id="_5-1-1-\u4FEE\u6539book-manager-html-\u8DF3\u8F6C\u4FEE\u6539-\u6DFB\u52A0-\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_5-1-1-\u4FEE\u6539book-manager-html-\u8DF3\u8F6C\u4FEE\u6539-\u6DFB\u52A0-\u9875\u9762" aria-hidden="true">#</a> 5.1.1.\u4FEE\u6539book_manager.html,\u8DF3\u8F6C\u4FEE\u6539(\u6DFB\u52A0)\u9875\u9762</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/admin(method=toEditPage,id=\${book.bookId})}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4FEE\u6539<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toEditPage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;manager/book_edit&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-1-2-servlet\u5C42" tabindex="-1"><a class="header-anchor" href="#_5-1-2-servlet\u5C42" aria-hidden="true">#</a> 5.1.2.Servlet\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/*
      \u6839\u636Eid\u67E5\u8BE2\u56FE\u4E66
      \u8FDB\u884C\u6570\u636E\u56DE\u663E
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">toEditPage</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u63D0\u4EA4\u7684id</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token comment">//\u8C03\u7528service\u5C42\u7684getBookById,\u4F20\u9012id</span>
            <span class="token class-name">Book</span> book <span class="token operator">=</span> bookService<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u5C06book\u5BF9\u8C61\u653E\u5230request\u57DF\u4E2D</span>
            request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;book&quot;</span><span class="token punctuation">,</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u8F6C\u53D1\u5230book_edit\u56FE\u4E66\u4FEE\u6539\u9875\u9762</span>
            <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;manager/book_edit&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-1-3-service\u5C42" tabindex="-1"><a class="header-anchor" href="#_5-1-3-service\u5C42" aria-hidden="true">#</a> 5.1.3.Service\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
    <span class="token class-name">Book</span> <span class="token function">getBookById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
     <span class="token comment">/*
      \u6839\u636Eid\u67E5\u8BE2\u56FE\u4E66
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getBookById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">getBookById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> book<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-1-4-dao\u5C42" tabindex="-1"><a class="header-anchor" href="#_5-1-4-dao\u5C42" aria-hidden="true">#</a> 5.1.4.Dao\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
    <span class="token class-name">Book</span> <span class="token function">getBookById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
        <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Book</span> <span class="token function">getBookById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select book_id bookId,book_name bookName,author,price,sales,stock,img_path imgPath from t_book where book_id = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> book<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-\u4FEE\u6539\u56FE\u4E66\u6570\u636E\u56DE\u663E-\u524D\u7AEF\u9875\u9762\u56DE\u663E" tabindex="-1"><a class="header-anchor" href="#_5-2-\u4FEE\u6539\u56FE\u4E66\u6570\u636E\u56DE\u663E-\u524D\u7AEF\u9875\u9762\u56DE\u663E" aria-hidden="true">#</a> 5.2.\u4FEE\u6539\u56FE\u4E66\u6570\u636E\u56DE\u663E_\u524D\u7AEF\u9875\u9762\u56DE\u663E</h3><h4 id="_5-2-1-\u8C03\u6574book-edit" tabindex="-1"><a class="header-anchor" href="#_5-2-1-\u8C03\u6574book-edit" aria-hidden="true">#</a> 5.2.1.\u8C03\u6574book_edit</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u7531\u4E8E\u70B9\u51FB<span class="token string">&quot;\u6DFB\u52A0\u56FE\u4E66&quot;</span>\u4E4B\u540Ebook_edit\u4E0D\u7528\u56DE\u663E\u56FE\u4E66\u6570\u636E<span class="token punctuation">,</span>\u800C\u70B9\u51FB<span class="token string">&quot;\u4FEE\u6539&quot;</span>\u4E4B\u540Ebook_edit\u9700\u8981\u56DE\u663E\u56FE\u4E66\u6570\u636E
  \u6240\u4EE5<span class="token punctuation">,</span>book_edit<span class="token punctuation">.</span>html\u9700\u8981\u63D0\u4F9B\u4E24\u4E2Aform\u8868\u5355
<span class="token number">2.</span>\u505A\u5224\u65AD<span class="token punctuation">,</span>\u5982\u679C\u662F<span class="token string">&quot;\u6DFB\u52A0\u56FE\u4E66&quot;</span>\u90A3\u4E48request\u57DF\u4E2D\u662F<span class="token keyword">null</span><span class="token punctuation">,</span>\u90A3\u4E48\u5C31\u663E\u793A\u6CA1\u6709\u56DE\u663E\u7684\u8868\u5355
  \u5982\u679C\u662F<span class="token string">&quot;\u4FEE\u6539&quot;</span>\u90A3\u4E48request\u57DF\u4E2D\u5C31\u4E0D\u662F<span class="token keyword">null</span><span class="token punctuation">,</span>\u90A3\u4E48\u5C31\u663E\u793A\u6709\u56DE\u663E\u56FE\u4E66\u6570\u636E\u7684\u8868\u5355
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>       <span class="token comment">&lt;!--
          \u5982\u679Crequest\u57DF\u4E2D\u6CA1\u6709book\u5BF9\u8C61,\u90A3\u4E48book\u5BF9\u8C61\u5C31\u662Fnull
          \u90A3\u4E48\u8BC1\u660E\u662F&quot;\u6DFB\u52A0\u56FE\u4E66&quot;-&gt;\u56E0\u4E3A\u6DFB\u52A0\u56FE\u4E66\u529F\u80FD\u4E0D\u7528\u5C06book\u653E\u5230request\u57DF\u4E2D
          book\u4E3Anull,\u5C31\u663E\u793A\u4E0D\u5E26\u56DE\u663E\u7684\u8868\u5355
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book == null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>saveOrUpdateBook<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u540D\u79F0:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u540D\u79F0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u6570\u5B57<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u4EF7\u683C:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u4EF7\u683C<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u6570\u5B57<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u4F5C\u8005:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u4F5C\u8005<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u4F5C\u8005<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u9500\u91CF:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u9500\u91CF<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sales<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u9500\u91CF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u5E93\u5B58:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u5E93\u5B58<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stock<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u5E93\u5B58<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u63D0\u4EA4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--
          \u5982\u679Crequest\u57DF\u4E2D\u6709book\u5BF9\u8C61,\u90A3\u4E48book\u5BF9\u8C61\u5C31\u4E0D\u662Fnull
          \u90A3\u4E48\u8BC1\u660E\u662F&quot;\u4FEE\u6539&quot;-&gt;\u56E0\u4E3A\u4FEE\u6539\u56FE\u4E66\u529F\u80FD,\u9700\u8981\u5C06book\u653E\u5230request\u57DF\u4E2D
          book\u4E0D\u4E3Anull,\u5C31\u663E\u793A\u5E26\u56DE\u663E\u7684\u8868\u5355
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book != null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>saveOrUpdateBook<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--
              \u4FEE\u6539\u5B8C\u6210\u70B9\u51FB&quot;\u63D0\u4EA4\u6309\u94AE&quot;\u4E4B\u540E\u5C31\u8981\u4FEE\u6539\u4E86,\u4FEE\u6539\u9700\u8981id
              \u9700\u8981\u6839\u636Eid\u53BB\u4FEE\u6539
              \u6240\u4EE5\u9700\u8981\u52A0\u4E00\u4E2A\u9690\u85CF\u57DF,\u5E26\u4E0Aid
            --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookId<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.bookId}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u540D\u79F0:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u540D\u79F0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookName<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.bookName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u6570\u5B57<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u4EF7\u683C:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u4EF7\u683C<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u6570\u5B57<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u4F5C\u8005:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u4F5C\u8005<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.author}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u4F5C\u8005<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u9500\u91CF:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u9500\u91CF<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sales<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.sales}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u9500\u91CF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>\u5E93\u5B58:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>number<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8BF7\u8F93\u5165\u5E93\u5B58<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stock<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.stock}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>errMess<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u8F93\u5165\u6B63\u786E\u5E93\u5B58<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u63D0\u4EA4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-\u4FEE\u6539\u56FE\u4E66\u4EE3\u7801\u5B8C\u6210" tabindex="-1"><a class="header-anchor" href="#_5-3-\u4FEE\u6539\u56FE\u4E66\u4EE3\u7801\u5B8C\u6210" aria-hidden="true">#</a> 5.3.\u4FEE\u6539\u56FE\u4E66\u4EE3\u7801\u5B8C\u6210</h3><img src="https://photo.sneoo.com/spring5/202207051123543.png" alt="image-20211107024645266" style="zoom:67%;"><h4 id="_5-3-1-servlet\u5C42-\u4E0D\u6539\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_5-3-1-servlet\u5C42-\u4E0D\u6539\u4EE3\u7801" aria-hidden="true">#</a> 5.3.1.Servlet\u5C42-&gt;\u4E0D\u6539\u4EE3\u7801</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/*
     \u6DFB\u52A0\u548C\u4FEE\u6539\u56FE\u4E66
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u63D0\u4EA4\u7684\u53C2\u6570</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u521B\u5EFABook\u5BF9\u8C61</span>
        <span class="token class-name">Book</span> book <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">populate</span><span class="token punctuation">(</span>book<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u8C03\u7528service\u5C42\u6DFB\u52A0\u548C\u4FEE\u6539\u65B9\u6CD5</span>
            bookService<span class="token punctuation">.</span><span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u9875\u9762\u91CD\u5B9A\u5411\u5230&quot;\u56FE\u4E66\u7BA1\u7406\u9875\u9762&quot;</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/admin?method=toBookManager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-3-2-service\u5C42" tabindex="-1"><a class="header-anchor" href="#_5-3-2-service\u5C42" aria-hidden="true">#</a> 5.3.2.Service\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3-&gt;\u4E0D\u6539\u4EE3\u7801</span>
    <span class="token keyword">int</span> <span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B-&gt;\u6539\u4EE3\u7801</span>
      <span class="token comment">/*
      \u505A\u4E2A\u5224\u65AD
      \u5982\u679C\u662F\u4FEE\u6539\u64CD\u4F5C,\u80AF\u5B9A\u5E26id,id\u4E0D\u4E3Anull,\u56E0\u4E3A\u9700\u8981\u6839\u636Eid\u4FEE\u6539\u56FE\u4E66
      \u5982\u679C\u662F\u6DFB\u52A0\u64CD\u4F5C,\u80AF\u5B9Aid\u5C31\u4E3Anull,id\u4E3A\u4E3B\u952E\u81EA\u589E,\u80AF\u5B9A\u4E0D\u7528\u5E26id
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">saveOrUpdateBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span> id <span class="token operator">=</span> book<span class="token punctuation">.</span><span class="token function">getBookId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//\u56FA\u5B9A\u8BBE\u7F6E\u56FE\u4E66\u7684\u56FE\u7247\u8DEF\u5F84,\u56E0\u4E3A\u6CA1\u6709\u505A\u6587\u4EF6\u4E0A\u4F20,\u6240\u4EE5\u628A\u6DFB\u52A0\u7684\u56FE\u7247\u5199\u6B7B</span>
            book<span class="token punctuation">.</span><span class="token function">setImgPath</span><span class="token punctuation">(</span><span class="token string">&quot;static/uploads/jiaofu.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> result01 <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">addBook</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result01<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">int</span> result02 <span class="token operator">=</span> bookDao<span class="token punctuation">.</span><span class="token function">updateBook</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> result02<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-3-3-dao\u5C42" tabindex="-1"><a class="header-anchor" href="#_5-3-3-dao\u5C42" aria-hidden="true">#</a> 5.3.3.Dao\u5C42</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u63A5\u53E3</span>
    <span class="token keyword">int</span> <span class="token function">updateBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token comment">//\u5B9E\u73B0\u7C7B</span>
        <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;update t_book set book_name = ?,author = ?,price = ?,sales = ?,stock = ? where book_id = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getBookName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getAuthor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getSales</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getStock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span><span class="token function">getBookId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E94\u7AE0-\u4E66\u57CE\u9879\u76EE-\u524D\u53F0\u56FE\u4E66\u663E\u793A" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E94\u7AE0-\u4E66\u57CE\u9879\u76EE-\u524D\u53F0\u56FE\u4E66\u663E\u793A" aria-hidden="true">#</a> \u7B2C\u4E94\u7AE0.\u4E66\u57CE\u9879\u76EE_\u524D\u53F0\u56FE\u4E66\u663E\u793A</h1><h2 id="_1-\u524D\u53F0\u56FE\u4E66\u5C55\u793A\u670D\u52A1\u7AEF\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_1-\u524D\u53F0\u56FE\u4E66\u5C55\u793A\u670D\u52A1\u7AEF\u5B9E\u73B0" aria-hidden="true">#</a> 1.\u524D\u53F0\u56FE\u4E66\u5C55\u793A\u670D\u52A1\u7AEF\u5B9E\u73B0</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u6211\u4EEC\u8BBF\u95EEindex<span class="token punctuation">.</span>html\u5176\u5B9E\u662F\u8BBF\u95EE\u7684<span class="token class-name">PortalServlet</span><span class="token punctuation">,</span>\u56E0\u4E3A\u6211\u4EEC\u5728<span class="token class-name">PortalServlet</span>\u4E2D\u8BBE\u7F6E\u4E86index<span class="token punctuation">.</span>html<span class="token punctuation">.</span>\u6240\u4EE5\u6211\u4EEC\u8BBF\u95EE\u7684\u4E66\u57CE\u9996\u9875\u5176\u5B9E\u662F   \u901A\u8FC7<span class="token class-name">PortalServlet</span>\u8F6C\u5230index<span class="token punctuation">.</span>html\u4E66\u57CE\u9996\u9875\u7684
<span class="token number">2.</span>\u6211\u4EEC\u5728\u9996\u9875\u5C55\u793A\u7684\u56FE\u4E66\u5176\u5B9E\u5C31\u662F\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E<span class="token punctuation">,</span>\u800C\u67E5\u8BE2\u6570\u636E\u5E93\u4E2D\u6240\u6709\u7684\u56FE\u4E66\u529F\u80FD<span class="token punctuation">,</span>\u6211\u4EEC\u5DF2\u7ECF\u5728\u505A<span class="token string">&quot;\u56FE\u4E66\u7BA1\u7406&quot;</span>\u7684\u65F6\u5019\u5DF2\u7ECF\u505A\u5B8C\u4E86<span class="token punctuation">,</span>\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5   \u5728<span class="token class-name">PortalServlet</span>\u4E2D\u76F4\u63A5\u8C03\u7528<span class="token class-name">BookService</span>\u4E2D\u7684showBookList\u65B9\u6CD5<span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-servlet\u5C42-portalservlet" tabindex="-1"><a class="header-anchor" href="#_1-1-servlet\u5C42-portalservlet" aria-hidden="true">#</a> 1.1.Servlet\u5C42_PortalServlet</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/index.html&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PortalServlet</span> <span class="token keyword">extends</span> <span class="token class-name">ViewBaseServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">BookService</span> bookService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BookServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Book</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> bookService<span class="token punctuation">.</span><span class="token function">showBookList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u5C06list\u5B58\u5230request\u57DF\u4E2D</span>
            request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;booklist&quot;</span><span class="token punctuation">,</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">processTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u524D\u5929\u56FE\u4E66\u5C55\u793A\u5BA2\u6237\u7AEF\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_2-\u524D\u5929\u56FE\u4E66\u5C55\u793A\u5BA2\u6237\u7AEF\u5B9E\u73B0" aria-hidden="true">#</a> 2.\u524D\u5929\u56FE\u4E66\u5C55\u793A\u5BA2\u6237\u7AEF\u5B9E\u73B0</h2><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\u4FEE\u6539index.html\u9875\u9762
\u53BB\u6389\u5176\u4F59\u7684div
====================================================================
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>book:\${booklist}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.imgPath}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u4E66\u540D:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.bookName}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u4F5C\u8005:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.author}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u4EF7\u683C:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.price}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u9500\u91CF:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.sales}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u5E93\u5B58:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${book.stock}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>\u52A0\u5165\u8D2D\u7269\u8F66<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,139),o=[e];function c(l,u){return s(),a("div",null,o)}var k=n(p,[["render",c],["__file","day09_\u4E66\u57CE\u9879\u76EE\u7B2C\u4E09\u9636\u6BB5.html.vue"]]);export{k as default};
