import{_ as n,o as s,c as a,a as t}from"./app.a3ab45a4.js";const e={},p=t(`<h1 id="day07-\u4E66\u57CE\u9879\u76EE\u7B2C\u4E8C\u9636\u6BB5" tabindex="-1"><a class="header-anchor" href="#day07-\u4E66\u57CE\u9879\u76EE\u7B2C\u4E8C\u9636\u6BB5" aria-hidden="true">#</a> day07.\u4E66\u57CE\u9879\u76EE\u7B2C\u4E8C\u9636\u6BB5</h1><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u8BFE\u524D\u56DE\u987E<span class="token operator">:</span>
  <span class="token number">1.</span>HttpServletRequest<span class="token operator">-&gt;</span>\u5904\u7406\u8BF7\u6C42\u7684\u5BF9\u8C61
    a<span class="token punctuation">.</span>\u83B7\u53D6\u8BF7\u6C42\u884C\u4FE1\u606F<span class="token operator">:</span>
      <span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\u83B7\u53D6\u63D0\u4EA4\u65B9\u5F0F
      <span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>\u83B7\u53D6web\u5E94\u7528\u540D\u79F0
      <span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>\u83B7\u53D6\u8BF7\u6C42\u5730\u5740<span class="token punctuation">,</span>\u5E26\u4E3B\u673A\u540D
      <span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>\u83B7\u53D6\u8BF7\u6C42\u5730\u5740<span class="token punctuation">,</span>\u4E0D\u5E26\u4E3B\u673A\u540D
    b<span class="token punctuation">.</span>\u83B7\u53D6\u8BF7\u6C42\u5934\u4FE1\u606F<span class="token operator">:</span>
      <span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span>
    c<span class="token punctuation">.</span>\u83B7\u53D6\u8BF7\u6C42\u4F53<span class="token punctuation">(</span>\u8BF7\u6C42\u53C2\u6570<span class="token punctuation">)</span><span class="token operator">:</span>
      request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BF7\u6C42\u53C2\u6570\u7684name\u5C5E\u6027\u540D&quot;</span><span class="token punctuation">)</span>
      request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BF7\u6C42\u53C2\u6570\u7684name\u5C5E\u6027\u540D&quot;</span><span class="token punctuation">)</span>
      request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    
  <span class="token number">2.</span>\u8BF7\u6C42\u8F6C\u53D1<span class="token operator">:</span>\u4F1A\u53D1\u8D77\u4E00\u6B21\u8BF7\u6C42<span class="token punctuation">,</span>\u5730\u5740\u680F\u4E0D\u53D8<span class="token punctuation">,</span>\u662F\u670D\u52A1\u5668\u5185\u90E8\u884C\u4E3A
    <span class="token function">getRequestDispacher</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span>
    path<span class="token operator">:</span>\u5199\u7684\u662F\u8DF3\u8F6C\u7684\u8D44\u6E90\u8DEF\u5F84
  <span class="token number">3.</span>\u57DF\u5BF9\u8C61<span class="token operator">:</span>\u8BF7\u6C42\u57DF<span class="token operator">:</span>\u5728\u4E00\u6B21\u8BF7\u6C42\u4E2D\u751F\u6548
    <span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span><span class="token class-name">Object</span> value<span class="token punctuation">)</span><span class="token operator">:</span>\u5B58
    <span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span><span class="token operator">:</span>\u53D6
    <span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span><span class="token operator">:</span>\u5220\u9664
  <span class="token number">4.</span>\u5904\u7406\u8BF7\u6C42\u4E2D\u6587\u4E71\u7801<span class="token operator">:</span>
    request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span>
  
 <span class="token number">2.</span>HttpServletResponse<span class="token operator">-&gt;</span>\u8BBE\u7F6E\u54CD\u5E94\u4FE1\u606F
   a<span class="token punctuation">.</span>\u8BBE\u7F6E\u54CD\u5E94\u884C<span class="token operator">:</span>\u8BBE\u7F6E\u54CD\u5E94\u72B6\u6001\u7801
     response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span>\u72B6\u6001\u7801<span class="token punctuation">)</span>
   b<span class="token punctuation">.</span>\u8BBE\u7F6E\u54CD\u5E94\u5934<span class="token operator">:</span>
     <span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span><span class="token class-name">String</span> value<span class="token punctuation">)</span>
   c<span class="token punctuation">.</span>\u8BBE\u7F6E\u54CD\u5E94\u4F53
     \u5B57\u7B26\u6D41<span class="token operator">:</span> <span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writer</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span>
     \u5B57\u8282\u6D41<span class="token operator">:</span> getOutputStream
     \u4E24\u8005\u4E0D\u80FD\u540C\u65F6\u4F7F\u7528
   d<span class="token punctuation">.</span>\u89E3\u51B3\u54CD\u5E94\u4E2D\u6587\u4E71\u7801\u95EE\u9898<span class="token operator">:</span>
     response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span>
   e<span class="token punctuation">.</span>\u91CD\u5B9A\u5411<span class="token operator">:</span><span class="token number">302</span>
     \u53D1\u8D77\u4E24\u6B21\u8BF7\u6C42<span class="token punctuation">,</span>\u5730\u5740\u680F\u4F1A\u6539\u53D8
     response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;\u91CD\u5B9A\u5411\u7684\u8D44\u6E90\u8DEF\u5F84&quot;</span><span class="token punctuation">)</span>
     \u5982\u679C\u5F80\u8BF7\u6C42\u57DF\u4E2D\u5B58\u6570\u636E<span class="token punctuation">,</span>\u7528\u91CD\u5B9A\u5411\u8DF3\u8F6C\u9875\u9762<span class="token punctuation">,</span>\u8BF7\u6C42\u57DF\u4E2D\u7684\u6570\u636E\u83B7\u53D6\u4E0D\u5230
 <span class="token number">3.</span>BeanUtils<span class="token operator">:</span>\u5DE5\u5177\u7C7B<span class="token operator">:</span>\u53EF\u4EE5\u83B7\u53D6\u5230\u7684\u8BF7\u6C42\u53C2\u6570\u5BF9\u5E94map\u76F4\u63A5\u5C01\u88C5\u5230<span class="token class-name">JavaBean</span>\u4E2D
   <span class="token function">populate</span><span class="token punctuation">(</span>javabean\u5BF9\u8C61<span class="token punctuation">,</span>map\u96C6\u5408<span class="token punctuation">)</span>
 
\u4ECA\u65E5\u91CD\u70B9<span class="token operator">:</span>
  \u90FD\u662F\u91CD\u70B9
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E00\u7AE0-\u7B80\u6613\u6CE8\u518C\u6848\u4F8B\u73AF\u5883\u642D\u5EFA" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E00\u7AE0-\u7B80\u6613\u6CE8\u518C\u6848\u4F8B\u73AF\u5883\u642D\u5EFA" aria-hidden="true">#</a> \u7B2C\u4E00\u7AE0.\u7B80\u6613\u6CE8\u518C\u6848\u4F8B\u73AF\u5883\u642D\u5EFA</h1><img src="https://photo.sneoo.com/spring5/202207051119772.png" alt="image-20211124093409755" style="zoom:80%;"><h2 id="_1-\u6CE8\u518C\u6848\u4F8B\u6570\u636E\u5E93-\u8868\u642D\u5EFA" tabindex="-1"><a class="header-anchor" href="#_1-\u6CE8\u518C\u6848\u4F8B\u6570\u636E\u5E93-\u8868\u642D\u5EFA" aria-hidden="true">#</a> 1.\u6CE8\u518C\u6848\u4F8B\u6570\u636E\u5E93,\u8868\u642D\u5EFA</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token identifier"><span class="token punctuation">\`</span>bookstore_test<span class="token punctuation">\`</span></span> <span class="token keyword">charset</span> utf8<span class="token punctuation">;</span>

<span class="token keyword">USE</span> <span class="token identifier"><span class="token punctuation">\`</span>bookstore_test<span class="token punctuation">\`</span></span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>t_user<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span> <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>username<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>password<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>email<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>telephone<span class="token punctuation">\`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">INNODB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">2</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token keyword">INSERT</span>  <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>t_user<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;\u5F20\u4E09&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1234&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;123@qq.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;13838381438&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u7B80\u6613\u6CE8\u518C\u6848\u4F8B\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#_2-\u7B80\u6613\u6CE8\u518C\u6848\u4F8B\u9875\u9762" aria-hidden="true">#</a> 2.\u7B80\u6613\u6CE8\u518C\u6848\u4F8B\u9875\u9762</h2><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u7528\u6237\u6CE8\u518C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \u7528\u6237\u540D:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    \u5BC6<span class="token entity named-entity" title="\xA0">&amp;nbsp;</span><span class="token entity named-entity" title="\xA0">&amp;nbsp;</span><span class="token entity named-entity" title="\xA0">&amp;nbsp;</span>\u7801:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    \u90AE<span class="token entity named-entity" title="\xA0">&amp;nbsp;</span><span class="token entity named-entity" title="\xA0">&amp;nbsp;</span><span class="token entity named-entity" title="\xA0">&amp;nbsp;</span>\u7BB1:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    \u624B\u673A\u53F7:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>telephone<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u6CE8\u518C<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u7B2C\u4E09\u65B9jar\u5305\u73AF\u5883\u642D\u5EFA" tabindex="-1"><a class="header-anchor" href="#_3-\u7B2C\u4E09\u65B9jar\u5305\u73AF\u5883\u642D\u5EFA" aria-hidden="true">#</a> 3.\u7B2C\u4E09\u65B9jar\u5305\u73AF\u5883\u642D\u5EFA</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>a<span class="token punctuation">.</span>\u5728WEB<span class="token operator">-</span>INF\u4E0B\u521B\u5EFAlib\u6587\u4EF6\u5939<span class="token punctuation">,</span>\u5C06\u7528\u5230\u7684jar\u5BFC\u8FDB\u53BB
b<span class="token punctuation">.</span>\u5C06druid\u4F7F\u7528\u5230\u7684properties\u914D\u7F6E\u6587\u4EF6\u653E\u5230resource\u76EE\u5F55\u4E0B
c<span class="token punctuation">.</span>\u5C06resource\u6587\u4EF6\u5939\u6539\u6210<span class="token string">&quot;resources root&quot;</span> <span class="token operator">-&gt;</span> \u4E13\u95E8\u7BA1\u7406\u914D\u7F6E\u6587\u4EF6\u7684
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://photo.sneoo.com/spring5/202207051119773.png" alt="image-20211124094611191" style="zoom:80%;"><img src="https://photo.sneoo.com/spring5/202207051119774.png" alt="image-20211124094756811" style="zoom:80%;"><h2 id="_4-\u5305\u548C\u7C7B\u7684\u521B\u5EFA" tabindex="-1"><a class="header-anchor" href="#_4-\u5305\u548C\u7C7B\u7684\u521B\u5EFA" aria-hidden="true">#</a> 4.\u5305\u548C\u7C7B\u7684\u521B\u5EFA</h2><img src="https://photo.sneoo.com/spring5/202207051119775.png" alt="image-20211124095411829" style="zoom:80%;"><h2 id="_5-\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_5-\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> 5.\u4EE3\u7801\u5B9E\u73B0</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> telephone<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserRegisterServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.\u5904\u7406\u8BF7\u6C42\u548C\u54CD\u5E94\u7684\u4E2D\u6587\u4E71\u7801</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.\u83B7\u53D6\u9875\u9762\u4E0A\u6240\u6709\u63D0\u4EA4\u7684\u8BF7\u6C42\u53C2\u6570</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.\u5C06map\u4E2D\u5B58\u50A8\u7684\u8BF7\u6C42\u53C2\u6570\u5C01\u88C5\u5230User\u5BF9\u8C61\u4E2D</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">populate</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//4.\u8C03\u7528Dao\u5C42\u7684registerUser\u65B9\u6CD5,\u5C06\u5C01\u88C5\u6570\u636E\u7684User\u5BF9\u8C61\u4F20\u9012\u8FC7\u53BB</span>
            <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserRegiserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//5.\u6839\u636Edao\u5C42registerUser\u65B9\u6CD5\u8FD4\u56DE\u7684\u7ED3\u679C\u505A\u4E0D\u540C\u7684\u54CD\u5E94</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u6CE8\u518C\u6210\u529F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u6CE8\u518C\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserRegiserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.\u521B\u5EFAQueryRunner\u5BF9\u8C61</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.\u51C6\u5907\u67E5\u8BE2\u7684sql</span>
        <span class="token class-name">String</span> find <span class="token operator">=</span> <span class="token string">&quot;select * from t_user where username = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//3.\u51C6\u5907\u63D2\u5165\u7684sql</span>
        <span class="token class-name">String</span> add <span class="token operator">=</span> <span class="token string">&quot;insert into t_user values (?,?,?,?,?)&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//4.\u5148\u67E5\u8BE2,\u6839\u636E\u7528\u6237\u540D\u67E5\u8BE2\u6570\u636E\u5E93\u4E2D\u6709\u6CA1\u6709\u7528\u6237,\u5982\u679C\u6709(\u67E5\u51FA\u6570\u636E\u4E86)</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>find<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanListHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//5.\u5982\u679C\u67E5\u8BE2\u51FA\u6765\u7684list\u4E2D\u6CA1\u6709\u5143\u7D20,\u8BC1\u660E\u6CA1\u67E5\u5230,\u53EF\u4EE5\u76F4\u63A5\u6CE8\u518C</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            qr<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>user<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>user<span class="token punctuation">.</span><span class="token function">getTelephone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u5982\u679C\u6CE8\u518C\u6210\u529F\u8FD4\u56DE\u4E00\u4E2A1</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token comment">//\u5982\u679C\u6CE8\u518C\u5931\u8D25\u8FD4\u56DE\u4E00\u4E2A0</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E8C\u7AE0-\u4E66\u57CE\u9879\u76EE\u6CE8\u518C\u767B\u5F55-\u4E0D\u5E26\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E8C\u7AE0-\u4E66\u57CE\u9879\u76EE\u6CE8\u518C\u767B\u5F55-\u4E0D\u5E26\u6570\u636E\u5E93" aria-hidden="true">#</a> \u7B2C\u4E8C\u7AE0.\u4E66\u57CE\u9879\u76EE\u6CE8\u518C\u767B\u5F55(\u4E0D\u5E26\u6570\u636E\u5E93)</h1><h2 id="_1-\u51C6\u5907\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#_1-\u51C6\u5907\u73AF\u5883" aria-hidden="true">#</a> 1.\u51C6\u5907\u73AF\u5883</h2><h3 id="_1-1-\u5B9E\u73B0\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#_1-1-\u5B9E\u73B0\u6B65\u9AA4" aria-hidden="true">#</a> 1.1.\u5B9E\u73B0\u6B65\u9AA4</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u521B\u5EFA\u52A8\u6001web\u5DE5\u7A0B
<span class="token number">2.</span>\u5C06\u7B2C\u4E00\u7248\u4E66\u57CE\u7684\u9759\u6001\u8D44\u6E90\u62F7\u8D1D\u5230web\u6587\u4EF6\u5939\u4E0B
<span class="token number">3.</span>\u7EDF\u4E00\u9875\u9762\u7684\u57FA\u7840\u8BBF\u95EE\u8DEF\u5F84<span class="token punctuation">(</span><span class="token generics"><span class="token punctuation">&lt;</span>base<span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token number">4.</span>\u4F7F\u7528\u786C\u6570\u636E\u8FDB\u884C\u6CE8\u518C\u767B\u5F55\u7684\u6BD4\u8F83
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-\u521B\u5EFA\u52A8\u6001web\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#_1-2-\u521B\u5EFA\u52A8\u6001web\u9879\u76EE" aria-hidden="true">#</a> 1.2.\u521B\u5EFA\u52A8\u6001web\u9879\u76EE</h3><img src="https://photo.sneoo.com/spring5/202207051119776.png" alt="image-20211124103511636" style="zoom:80%;"><h3 id="_1-3-\u62F7\u8D1D\u9759\u6001\u8D44\u6E90\u5E76\u8BBF\u95EE\u9996\u9875" tabindex="-1"><a class="header-anchor" href="#_1-3-\u62F7\u8D1D\u9759\u6001\u8D44\u6E90\u5E76\u8BBF\u95EE\u9996\u9875" aria-hidden="true">#</a> 1.3.\u62F7\u8D1D\u9759\u6001\u8D44\u6E90\u5E76\u8BBF\u95EE\u9996\u9875</h3><img src="https://photo.sneoo.com/spring5/202207051119777.png" alt="image-20211124103649355" style="zoom:80%;"><h2 id="_2-\u5728html\u4E2D\u4F7F\u7528base\u6807\u7B7E\u7EDF\u4E00\u9875\u9762\u57FA\u7840\u8BBF\u95EE\u8DEF\u5F84" tabindex="-1"><a class="header-anchor" href="#_2-\u5728html\u4E2D\u4F7F\u7528base\u6807\u7B7E\u7EDF\u4E00\u9875\u9762\u57FA\u7840\u8BBF\u95EE\u8DEF\u5F84" aria-hidden="true">#</a> 2.\u5728HTML\u4E2D\u4F7F\u7528base\u6807\u7B7E\u7EDF\u4E00\u9875\u9762\u57FA\u7840\u8BBF\u95EE\u8DEF\u5F84</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u95EE\u9898\u63CF\u8FF0<span class="token operator">:</span>
    <span class="token number">1.</span>\u56E0\u4E3A\u5728\u9875\u9762\u4E2D\u6709\u5F88\u591A\u7684a\u6807\u7B7E\u3001\u8868\u5355\u4EE5\u53CA<span class="token class-name">Ajax</span>\u8BF7\u6C42<span class="token punctuation">(</span>\u4EE5\u540E\u4F1A\u5B66<span class="token punctuation">)</span>\u90FD\u9700\u8981\u5199\u8BBF\u95EE\u8DEF\u5F84\uFF0C\u800C\u5728\u8BBF\u95EE\u8DEF\u5F84\u4E2D\u9879\u76EE\u8DEF\u5F84\u662F\u4E00\u6837\u7684\uFF0C\u6240\u4EE5\u5982\u679C\u4E0D\u7EDF\u4E00\u7F16\u5199\u9879\u76EE\u8DEF\u5F84\u7684\u8BDD\uFF0C\u5C31\u4F1A\u53D1\u751F\u5F53\u9879\u76EE\u8DEF\u5F84\u53D1\u751F\u6539\u53D8\u7684\u65F6\u5019\u8BE5\u9875\u9762\u6240\u6709\u7528\u5230\u9879\u76EE\u8DEF\u5F84\u7684\u5730\u65B9\u90FD\u9700\u8981\u66F4\u6539\u7684\u60C5\u51B5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>base\u6807\u7B7E\u4F5C\u7528<span class="token operator">:</span>\u7ED9\u9875\u9762\u4E0A\u7684\u9759\u6001\u8D44\u6E90\u8DEF\u5F84\u7EDF\u4E00\u4E00\u4E0B\u8DEF\u5F84\u5199\u6CD5
<span class="token number">2.</span>base\u6807\u7B7E\u7F16\u5199\u4F4D\u7F6E<span class="token operator">:</span>\u5FC5\u987B\u653E\u5230head\u6807\u7B7E\u4E2D
<span class="token number">3.</span>\u4E3A\u4EC0\u4E48\u4F7F\u7528base\u6807\u7B7E\u7EDF\u4E00\u4E00\u4E0B\u5199\u6CD5\u5462<span class="token operator">:</span>
  \u56E0\u4E3A\u9875\u9762\u4E0A\u6709\u5404\u79CD\u8DEF\u5F84<span class="token punctuation">,</span>\u8FD9\u4E9B\u9759\u6001\u8D44\u6E90\u90FD\u653E\u5230\u4E86web\u76EE\u5F55\u4E0B<span class="token punctuation">,</span>\u4F46\u662Fwebapp\u4E0B\u6CA1\u6709web\u8DEF\u5F84
  \u9879\u76EE\u4E0B\u76F4\u63A5\u5C31\u662F\u6211\u4EEC\u5F15\u5165\u7684\u5404\u79CD\u9759\u6001\u8D44\u6E90<span class="token punctuation">,</span>\u6240\u4EE5\u6211\u4EEC\u5C31\u4E0D\u8981\u7528<span class="token punctuation">.</span>/\u8DEF\u5F84\u5199\u6CD5\u4E86<span class="token punctuation">,</span>\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528base\u6807\u7B7E\u5B9A\u4E49\u4E00\u4E2A\u9879\u76EE\u540D
  \u8BA9\u9875\u9762\u4E0A\u6240\u6709\u9759\u6001\u8D44\u6E90\u7684\u8DEF\u5F84\u7EDF\u4E00\u53D8\u6210<span class="token operator">:</span>\u9879\u76EE\u540D<span class="token operator">/</span>\u5305\u540D<span class="token operator">/</span>\u8D44\u6E90\u540D  \u4E0D\u7528<span class="token punctuation">.</span>/\u8FD9\u79CD\u5199\u6CD5\u4E86
      
<span class="token number">4.</span>\u5199\u6CD5<span class="token operator">:</span>
   <span class="token operator">&lt;</span>base href <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>  \u5B9A\u4E49\u57FA\u7840\u7684\u7EDF\u4E00\u8BBF\u95EE\u8DEF\u5F84
   href <span class="token operator">=</span> <span class="token string">&quot;\u5199\u8DEF\u5F84&quot;</span><span class="token punctuation">,</span>\u6574\u4E2A\u9875\u9762\u4E2D\u7684\u6240\u6709\u8DEF\u5F84<span class="token punctuation">,</span>\u90FD\u662F\u6709href\u7684\u5C5E\u6027<span class="token operator">+</span>\u8D44\u6E90\u7684\u8DEF\u5F84
   
    <span class="token operator">&lt;</span>base href <span class="token operator">=</span> <span class="token string">&quot;/\u90E8\u7F72\u65F6application context\u5199\u7684\u540D\u5B57/&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1-\u4FEE\u6539index-html" tabindex="-1"><a class="header-anchor" href="#_2-1-\u4FEE\u6539index-html" aria-hidden="true">#</a> 2.1.\u4FEE\u6539index.html</h3><img src="https://photo.sneoo.com/spring5/202207051119778.png" alt="image-20211124105229530" style="zoom:80%;"><h3 id="_2-2-\u4FEE\u6539login-html" tabindex="-1"><a class="header-anchor" href="#_2-2-\u4FEE\u6539login-html" aria-hidden="true">#</a> 2.2.\u4FEE\u6539login.html</h3><img src="https://photo.sneoo.com/spring5/202207051119779.png" alt="image-20211124105327130" style="zoom:80%;"><h3 id="_2-3-\u4FEE\u6539regist-html" tabindex="-1"><a class="header-anchor" href="#_2-3-\u4FEE\u6539regist-html" aria-hidden="true">#</a> 2.3.\u4FEE\u6539regist.html</h3><img src="https://photo.sneoo.com/spring5/202207051119780.png" alt="image-20211124105431716" style="zoom:80%;"><h2 id="_3-\u4F7F\u7528\u9759\u6001\u6570\u636E\u5B9E\u73B0\u7684\u767B\u5F55\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_3-\u4F7F\u7528\u9759\u6001\u6570\u636E\u5B9E\u73B0\u7684\u767B\u5F55\u529F\u80FD" aria-hidden="true">#</a> 3.\u4F7F\u7528\u9759\u6001\u6570\u636E\u5B9E\u73B0\u7684\u767B\u5F55\u529F\u80FD</h2><h3 id="_3-1-\u4F7F\u7528\u5047\u6570\u636E-\u5047\u5982\u5DF2\u7ECF\u6709\u4E86\u4E00\u4E2A\u7528\u6237\u540D\u548C\u5BC6\u7801" tabindex="-1"><a class="header-anchor" href="#_3-1-\u4F7F\u7528\u5047\u6570\u636E-\u5047\u5982\u5DF2\u7ECF\u6709\u4E86\u4E00\u4E2A\u7528\u6237\u540D\u548C\u5BC6\u7801" aria-hidden="true">#</a> 3.1.\u4F7F\u7528\u5047\u6570\u636E,\u5047\u5982\u5DF2\u7ECF\u6709\u4E86\u4E00\u4E2A\u7528\u6237\u540D\u548C\u5BC6\u7801</h3><table><thead><tr><th>\u7528\u6237\u540D</th><th>\u5BC6\u7801</th></tr></thead><tbody><tr><td>tom</td><td>123456</td></tr></tbody></table><h3 id="_3-2-\u76EE\u6807" tabindex="-1"><a class="header-anchor" href="#_3-2-\u76EE\u6807" aria-hidden="true">#</a> 3.2.\u76EE\u6807</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u5728\u670D\u52A1\u5668\u68C0\u67E5\u7528\u6237\u901A\u8FC7\u8868\u5355\u63D0\u4EA4\u7684\u7528\u6237\u540D<span class="token punctuation">,</span>\u5BC6\u7801\u662F\u5426\u6B63\u786E
<span class="token number">2.</span>\u68C0\u67E5\u6210\u529F\u4E86<span class="token punctuation">,</span>\u767B\u5F55\u6210\u529F<span class="token punctuation">,</span>\u5C06\u9875\u9762\u8DF3\u8F6C\u5230login_success<span class="token punctuation">.</span>html\u9875\u9762\u4E0A
<span class="token number">3.</span>\u5982\u679C\u5931\u8D25<span class="token punctuation">,</span>\u8FD4\u56DE<span class="token string">&quot;\u767B\u5F55\u5931\u8D25&quot;</span>\u7684\u9519\u8BEF\u6D88\u606F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://photo.sneoo.com/spring5/202207051119781.png" alt="image-20210921113314524"></p><h3 id="_3-3-\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_3-3-\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> 3.3.\u4EE3\u7801\u5B9E\u73B0</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u4FEE\u6539login<span class="token punctuation">.</span>html\u9875\u9762\u4E2D\u7684form\u8868\u5355\u63D0\u4EA4\u8DEF\u5F84
<span class="token number">2.</span>\u5728\u5BF9\u5E94\u7684servlet\u4E2D\u5B9E\u73B0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8BBE\u7F6E\u8BF7\u6C42\u548C\u54CD\u5E94\u4E71\u7801</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u586B\u5199\u7684\u6570\u636E</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u548C\u786C\u6570\u636E\u505A\u5224\u65AD,\u5982\u679C\u9875\u9762\u586B\u5199\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\u8DDF\u5DF2\u7ECF\u51C6\u5907\u597D\u7684tom\u548C123456\u90FD\u5339\u914D\u5C31\u53EF\u4EE5\u767B\u5F55</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//\u91CD\u5B9A\u5411\u5230\u53E6\u5916\u4E00\u4E2A\u65B0\u7684\u9875\u9762(\u767B\u5F55\u6210\u529F)</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/pages/user/login_success.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u767B\u5F55\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u95EE\u9898<span class="token operator">:</span>
  \u5982\u679C\u767B\u5F55\u5931\u8D25\u4E4B\u540E\u76F4\u63A5\u7ED9\u7528\u6237\u8FD4\u56DE\u4E86\u4E00\u4E2A\u5927\u767D\u9875<span class="token punctuation">,</span>\u5927\u767D\u9875\u4E0A\u76F4\u63A5\u7ED9\u7528\u6237\u4E00\u4E2A<span class="token string">&quot;\u767B\u5F55\u5931\u8D25&quot;</span>\u56DB\u4E2A\u5927\u5B57<span class="token punctuation">,</span>\u7528\u6237\u4F53\u9A8C\u592A\u5DEE
      
\u89E3\u51B3<span class="token operator">:</span>
  \u5982\u679C\u767B\u5F55\u5931\u8D25<span class="token punctuation">,</span>\u8BA9\u7528\u6237\u91CD\u65B0\u5728\u56DE\u5230<span class="token string">&quot;\u767B\u5F55&quot;</span>\u9875\u9762
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8BBE\u7F6E\u8BF7\u6C42\u548C\u54CD\u5E94\u4E71\u7801</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u586B\u5199\u7684\u6570\u636E</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u548C\u786C\u6570\u636E\u505A\u5224\u65AD,\u5982\u679C\u9875\u9762\u586B\u5199\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\u8DDF\u5DF2\u7ECF\u51C6\u5907\u597D\u7684tom\u548C123456\u90FD\u5339\u914D\u5C31\u53EF\u4EE5\u767B\u5F55</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//\u91CD\u5B9A\u5411\u5230\u53E6\u5916\u4E00\u4E2A\u65B0\u7684\u9875\u9762(\u767B\u5F55\u6210\u529F)</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/pages/user/login_success.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/pages/user/login.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u53C8\u4E00\u4E2A\u95EE\u9898<span class="token operator">:</span>
  \u5982\u679C\u767B\u5F55\u5931\u8D25<span class="token punctuation">,</span>\u91CD\u5B9A\u5411\u5230login<span class="token punctuation">.</span>html<span class="token punctuation">.</span>\u4F46\u662F\u6CA1\u6709\u4EC0\u4E48\u767B\u5F55\u5931\u8D25\u63D0\u793A<span class="token punctuation">,</span>\u7528\u6237\u4F53\u9A8C\u8FD8\u662F\u4E0D\u597D<span class="token punctuation">,</span>\u6211\u4EEC\u6211\u4EEC\u5E94\u8BE5\u91CD\u5B9A\u5411\u5230login<span class="token punctuation">.</span>html\u4E4B\u540E<span class="token punctuation">,</span>\u5728\u9875\u9762\u4E0A\u6DFB\u52A0<span class="token string">&quot;\u767B\u5F55\u5931\u8D25&quot;</span>\u63D0\u793A<span class="token operator">--</span><span class="token operator">&gt;</span>\u5783\u573E\u505A\u6CD5<span class="token punctuation">(</span>\u7279\u522B\u5783\u573E<span class="token punctuation">,</span>\u5455\u5410<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8BBE\u7F6E\u8BF7\u6C42\u548C\u54CD\u5E94\u4E71\u7801</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u586B\u5199\u7684\u6570\u636E</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u548C\u786C\u6570\u636E\u505A\u5224\u65AD,\u5982\u679C\u9875\u9762\u586B\u5199\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801\u8DDF\u5DF2\u7ECF\u51C6\u5907\u597D\u7684tom\u548C123456\u90FD\u5339\u914D\u5C31\u53EF\u4EE5\u767B\u5F55</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//\u91CD\u5B9A\u5411\u5230\u53E6\u5916\u4E00\u4E2A\u65B0\u7684\u9875\u9762(\u767B\u5F55\u6210\u529F)</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/pages/user/login_success.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
           <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;&lt;!DOCTYPE html&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;html&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;head&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;meta charset=\\&quot;UTF-8\\&quot;/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;title&gt;\u5C1A\u7845\u8C37\u4F1A\u5458\u767B\u5F55\u9875\u9762&lt;/title&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;!--\u7EDF\u4E00\u7684\u57FA\u672C\u8BBF\u95EE\u8DEF\u5F84--&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;base href=\\&quot;/bookstore/\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;link type=\\&quot;text/css\\&quot; rel=\\&quot;stylesheet\\&quot; href=\\&quot;static/css/style.css\\&quot;/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;script src=\\&quot;static/script/vue.js\\&quot;&gt;&lt;/script&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;/head&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;body&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;div id=\\&quot;login_header\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;a href=\\&quot;index.html\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        &lt;img class=\\&quot;logo_img\\&quot; alt=\\&quot;\\&quot; src=\\&quot;static/img/logo.gif\\&quot;/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;/a&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;div class=\\&quot;login_banner\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;div id=\\&quot;l_content\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        &lt;span class=\\&quot;login_word\\&quot;&gt;\u6B22\u8FCE\u767B\u5F55&lt;/span&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;div id=\\&quot;content\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        &lt;div class=\\&quot;login_form\\&quot; id=\\&quot;app\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;            &lt;div class=\\&quot;login_box\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                &lt;div class=\\&quot;tit\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    &lt;h1&gt;\u5C1A\u7845\u8C37\u4F1A\u5458\u767B\u5F55\u5931\u8D25&lt;/h1&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                &lt;div class=\\&quot;msg_cont\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    &lt;b&gt;&lt;/b&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    &lt;span class=\\&quot;errorMsg\\&quot; v-html=\\&quot;errorMessage\\&quot;&gt;&lt;/span&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                &lt;div class=\\&quot;form\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    &lt;form action=\\&quot;login\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;label&gt;\u7528\u6237\u540D\u79F0\uFF1A&lt;/label&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;input\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                class=\\&quot;itxt\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                type=\\&quot;text\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                placeholder=\\&quot;\u8BF7\u8F93\u5165\u7528\u6237\u540D\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                autocomplete=\\&quot;off\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                tabindex=\\&quot;1\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                name=\\&quot;username\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                id=\\&quot;username\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                v-model=\\&quot;username\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        /&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;br/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;br/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;label&gt;\u7528\u6237\u5BC6\u7801\uFF1A&lt;/label&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;input\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                class=\\&quot;itxt\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                type=\\&quot;password\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                placeholder=\\&quot;\u8BF7\u8F93\u5165\u5BC6\u7801\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                autocomplete=\\&quot;off\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                tabindex=\\&quot;1\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                name=\\&quot;password\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                id=\\&quot;password\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                                v-model=\\&quot;password\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        /&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;br/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;br/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;input type=\\&quot;submit\\&quot; value=\\&quot;\u767B\u5F55\\&quot; id=\\&quot;sub_btn\\&quot; @click=\\&quot;loginUser()\\&quot;/&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    &lt;/form&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    &lt;div class=\\&quot;tit\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                        &lt;a href=\\&quot;regist.html\\&quot;&gt;\u7ACB\u5373\u6CE8\u518C&lt;/a&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;            &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    &lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;div id=\\&quot;bottom\\&quot;&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;      &lt;span&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        \u5C1A\u7845\u8C37\u4E66\u57CE.Copyright &amp;copy;2015\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;      &lt;/span&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;/div&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;/body&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;script&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    new Vue({\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        el: \\&quot;#app\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        data: {\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;            \\&quot;username\\&quot;:\\&quot;\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;            \\&quot;password\\&quot;:\\&quot;\\&quot;,\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;            \\&quot;errorMessage\\&quot;:\\&quot;\u8BF7\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801\\&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        },\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        methods: {\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;            loginUser(){\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                //\u5982\u679Cdata\u4E2D\u7684username\u4E3A\u7A7A,\u963B\u6B62\u8868\u5355\u63D0\u4EA4,\u4E0D\u80FD\u767B\u5F55\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                if (this.username==\\&quot;\\&quot;){\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    //\u7ED9errorMessage\u91CD\u65B0\u8D4B\u503C-&gt;\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    this.errorMessage = \\&quot;\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A\\&quot;;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    //\u963B\u6B62\u8868\u5355\u63D0\u4EA4\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    event.preventDefault();\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                }\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                //\u5982\u679Cdata\u4E2D\u7684password\u4E3A\u7A7A,\u963B\u6B62\u8868\u5355\u63D0\u4EA4,\u4E0D\u80FD\u767B\u5F55\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                if (this.password==\\&quot;\\&quot;){\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    //\u7ED9errorMessage\u91CD\u65B0\u8D4B\u503C-&gt;\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    this.errorMessage = \\&quot;\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\\&quot;;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    //\u963B\u6B62\u8868\u5355\u63D0\u4EA4\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    event.preventDefault();\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                }\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                //\u5982\u679Cdata\u4E2D\u7684username\u548Cpassword\u90FD\u4E3A\u7A7A,\u4E5F\u963B\u6B62\u8868\u5355\u63D0\u4EA4,\u4E0D\u80FD\u767B\u5F55\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                if (this.username==\\&quot;\\&quot; &amp;&amp; this.password==\\&quot;\\&quot;){\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    this.errorMessage = \\&quot;\u7528\u6237\u540D\u548C\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\\&quot;;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    //\u963B\u6B62\u8868\u5355\u63D0\u4EA4\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                    event.preventDefault();\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;                }\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;            }\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;        }\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;    });\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;/script&gt;\\n&quot;</span> <span class="token operator">+</span>
                   <span class="token string">&quot;&lt;/html&gt;\\n&quot;</span><span class="token punctuation">;</span>

           response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-\u4F7F\u7528\u9759\u6001\u6570\u636E\u5B9E\u73B0\u6CE8\u518C\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#_4-\u4F7F\u7528\u9759\u6001\u6570\u636E\u5B9E\u73B0\u6CE8\u518C\u529F\u80FD" aria-hidden="true">#</a> 4.\u4F7F\u7528\u9759\u6001\u6570\u636E\u5B9E\u73B0\u6CE8\u518C\u529F\u80FD</h2><h3 id="_4-1-\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#_4-1-\u51C6\u5907" aria-hidden="true">#</a> 4.1.\u51C6\u5907</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u5728regist<span class="token punctuation">.</span>html\u4E2D\u6DFB\u52A0base\u6807\u7B7E
<span class="token number">2.</span>\u7ED9\u8F93\u5165\u6846\u52A0\u5165name\u5C5E\u6027
<span class="token number">3.</span>\u7ED9form\u4E2D\u7684action\u8BBE\u7F6E\u8BF7\u6C42\u8DEF\u5F84<span class="token operator">-&gt;</span> servlet\u7684url<span class="token operator">-</span>pattern
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_4-2-\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> 4.2.\u4EE3\u7801\u5B9E\u73B0</h3><p><img src="https://photo.sneoo.com/spring5/202207051119782.png" alt="image-20210921140334857"></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RegisterServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8BBE\u7F6E\u8BF7\u6C42\u548C\u54CD\u5E94\u4E71\u7801</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u83B7\u53D6\u9875\u9762\u8BF7\u6C42\u53C2\u6570</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u5224\u65AD,\u5982\u679C\u6CE8\u518C\u6210\u529F,\u91CD\u5B9A\u5411\u5230&quot;\u6CE8\u518C\u6210\u529F\u9875\u9762&quot;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/pages/user/regist_success.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u6CE8\u518C\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E09\u7AE0-\u4E09\u5C42\u67B6\u6784\u601D\u60F3" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E09\u7AE0-\u4E09\u5C42\u67B6\u6784\u601D\u60F3" aria-hidden="true">#</a> \u7B2C\u4E09\u7AE0.\u4E09\u5C42\u67B6\u6784\u601D\u60F3</h1><h2 id="_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u4E09\u5C42\u67B6\u6784" tabindex="-1"><a class="header-anchor" href="#_1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u4E09\u5C42\u67B6\u6784" aria-hidden="true">#</a> 1.\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u4E09\u5C42\u67B6\u6784</h2><p><img src="https://photo.sneoo.com/spring5/202207051119784.png" alt="image-20210921200154021"></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u6240\u6709\u548C\u5F53\u524D\u4E1A\u52A1\u529F\u80FD\u9700\u6C42\u76F8\u5173\u7684\u4EE3\u7801\u5168\u90E8\u8026\u5408\u5728\u4E00\u8D77\uFF0C\u5982\u679C\u5176\u4E2D\u6709\u4EFB\u4F55\u4E00\u4E2A\u90E8\u5206\u51FA\u73B0\u4E86\u95EE\u9898\uFF0C\u7275\u4E00\u53D1\u800C\u52A8\u5168\u8EAB\uFF0C\u5BFC\u81F4\u5176\u4ED6\u65E0\u5173\u4EE3\u7801\u4E5F\u8981\u8FDB\u884C\u76F8\u5E94\u7684\u4FEE\u6539\u3002\u8FD9\u6837\u7684\u8BDD\u4EE3\u7801\u4F1A\u975E\u5E38\u96BE\u4EE5\u7EF4\u62A4\u3002
\u6240\u4EE5\u4E3A\u4E86\u63D0\u9AD8\u5F00\u53D1\u6548\u7387\uFF0C\u9700\u8981\u5BF9\u4EE3\u7801\u8FDB\u884C\u6A21\u5757\u5316\u7684\u62C6\u5206\u3002\u6574\u4E2A\u9879\u76EE\u6A21\u5757\u5316\u3001\u7EC4\u4EF6\u5316\u7A0B\u5EA6\u8D8A\u9AD8\uFF0C\u8D8A\u5BB9\u6613\u7BA1\u7406\u548C\u7EF4\u62A4\uFF0C\u51FA\u73B0\u95EE\u9898\u66F4\u5BB9\u6613\u6392\u67E5\u3002
    
\u7528\u4E09\u5C42\u67B6\u6784\u8BF4\u767D\u4E86<span class="token operator">:</span>
  \u4E0D\u540C\u7C7B\u578B\u7684\u4EE3\u7801\u653E\u5728\u4E0D\u540C\u7684\u5305\u4E2D<span class="token punctuation">,</span>\u597D\u7EF4\u62A4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u4EC0\u4E48\u662F\u4E09\u5C42\u67B6\u6784" tabindex="-1"><a class="header-anchor" href="#_2-\u4EC0\u4E48\u662F\u4E09\u5C42\u67B6\u6784" aria-hidden="true">#</a> 2.\u4EC0\u4E48\u662F\u4E09\u5C42\u67B6\u6784</h2><p><img src="https://photo.sneoo.com/spring5/202207051119785.png" alt="image-20210921200308185"></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u8868\u73B0\u5C42\uFF1A\u53C8\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u63A7\u5236\u5C42\uFF0C\u8D1F\u8D23\u5904\u7406\u6D4F\u89C8\u5668\u8BF7\u6C42\u3001\u8FD4\u56DE\u54CD\u5E94\u3001\u9875\u9762\u8C03\u5EA6
    
<span class="token number">2.</span>\u4E1A\u52A1\u903B\u8F91\u5C42\uFF1A\u8D1F\u8D23\u5904\u7406\u4E1A\u52A1\u903B\u8F91\uFF0C\u6839\u636E\u4E1A\u52A1\u903B\u8F91\u628A\u6301\u4E45\u5316\u5C42\u4ECE\u6570\u636E\u5E93\u67E5\u8BE2\u51FA\u6765\u7684\u6570\u636E\u8FDB\u884C\u8FD0\u7B97\u3001\u7EC4\u88C5\uFF0C\u5C01\u88C5\u597D\u540E\u8FD4\u56DE\u7ED9\u8868\u73B0\u5C42\uFF0C\u4E5F\u53EF\u4EE5\u6839\u636E\u4E1A\u52A1\u529F\u80FD\u7684\u9700\u8981\u8C03\u7528\u6301\u4E45\u5316\u5C42\u628A\u6570\u636E\u4FDD\u5B58\u5230\u6570\u636E\u5E93\u3001\u4FEE\u6539\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E\u3001\u5220\u9664\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E
    
<span class="token number">3.</span>\u6301\u4E45\u5316\u5C42\uFF1A\u6839\u636E\u4E0A\u4E00\u5C42\u7684\u8C03\u7528\u5BF9\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E\u6267\u884C\u589E\u5220\u6539\u67E5\u7684\u64CD\u4F5C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://photo.sneoo.com/spring5/202207051119786.png" alt="image-20211124142014882" style="zoom:80%;"><blockquote><p>\u5317\u4EAC\u63A8\u8350\u7684\u5730\u65B9:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u597D\u73A9<span class="token operator">:</span>\u540D\u80DC\u53E4\u8FF9<span class="token punctuation">,</span>\u6545\u5BAB<span class="token punctuation">,</span>\u606D\u738B\u5E9C<span class="token punctuation">,</span>\u5317\u6D77<span class="token punctuation">,</span>\u9890\u548C\u56ED<span class="token punctuation">,</span>\u5706\u660E\u56ED\u7B49
\u901B\u8857<span class="token operator">:</span>\u5929\u901A\u82D1<span class="token punctuation">(</span>\u9F99\u5FB7\u5E7F\u573A<span class="token punctuation">)</span>\u524D\u9762\u7684\u4E00\u680B\u697C
    \u897F\u5355\u63A5\u5BF9\u9762\u7684\u660E\u73E0<span class="token punctuation">(</span>\u8BB0\u7740\u8FD8\u4EF7<span class="token punctuation">)</span>
\u503C\u5F97\u901B\u5403\u7684<span class="token operator">:</span>\u540E\u6D77<span class="token punctuation">,</span>\u4EC0\u5239\u6D77<span class="token punctuation">,</span>\u5357\u9523\u9F13\u5DF7<span class="token punctuation">,</span>\u524D\u95E8\u5927\u8857<span class="token punctuation">,</span>\u7C0B\u8857
\u665A\u4E0A\u80FD\u901B\u7684\u5730\u65B9<span class="token operator">:</span>\u4E16\u8D38\u5929\u9636<span class="token punctuation">,</span>\u84DD\u8272\u6E2F\u6E7E
\u6700\u8FD1\u7684\u70E7\u70E4<span class="token operator">:</span>\u4E00\u9519\u518D\u9519<span class="token punctuation">(</span>\u6E29\u90FD\u6C34\u57CE\u54EA\u4E00\u6761\u9632\u53E4\u5EFA\u7B51\u7684\u8857<span class="token punctuation">)</span>
\u81EA\u52A9<span class="token operator">:</span>\u56DE\u9F99\u89C2\u897F\u5927\u8857<span class="token punctuation">(</span>\u597D\u4F26\u54E5<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h1 id="\u7B2C\u56DB\u7AE0-\u4E66\u57CE\u9879\u76EE\u6CE8\u518C\u529F\u80FD-\u5E26\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u56DB\u7AE0-\u4E66\u57CE\u9879\u76EE\u6CE8\u518C\u529F\u80FD-\u5E26\u6570\u636E\u5E93" aria-hidden="true">#</a> \u7B2C\u56DB\u7AE0.\u4E66\u57CE\u9879\u76EE\u6CE8\u518C\u529F\u80FD(\u5E26\u6570\u636E\u5E93)</h1><h2 id="_1-\u4E66\u57CE\u9879\u76EE\u6570\u636E\u5E93\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#_1-\u4E66\u57CE\u9879\u76EE\u6570\u636E\u5E93\u51C6\u5907" aria-hidden="true">#</a> 1.\u4E66\u57CE\u9879\u76EE\u6570\u636E\u5E93\u51C6\u5907</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>\u5BFC\u5165\u8D44\u6599\u4E2D\u7684bookstore<span class="token punctuation">.</span>sql\u6587\u4EF6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-\u4E66\u57CE\u9879\u76EE\u73AF\u5883\u642D\u5EFA" tabindex="-1"><a class="header-anchor" href="#_2-\u4E66\u57CE\u9879\u76EE\u73AF\u5883\u642D\u5EFA" aria-hidden="true">#</a> 2.\u4E66\u57CE\u9879\u76EE\u73AF\u5883\u642D\u5EFA</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u521B\u5EFA\u5305\u548C\u7C7B<span class="token operator">:</span>
  com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>dao
      \u63A5\u53E3<span class="token operator">:</span><span class="token class-name">UserDao</span>
      \u5B9E\u73B0\u7C7B<span class="token operator">:</span><span class="token class-name">UserDaoImpl</span> <span class="token operator">-&gt;</span> \u5355\u72EC\u5728dao\u4E0B\u521B\u5EFA\u4E00\u4E2Aimpl\u5305
          
  com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service
      \u63A5\u53E3<span class="token operator">:</span><span class="token class-name">UserService</span>
      \u5B9E\u73B0\u7C7B<span class="token operator">:</span><span class="token class-name">UserServiceImpl</span><span class="token operator">-&gt;</span> \u5355\u72EC\u5728service\u4E0B\u521B\u5EFA\u4E00\u4E2Aimpl\u5305
          
  com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo
      \u5B9E\u4F53\u7C7B<span class="token operator">:</span><span class="token class-name">User</span>
          
  com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>controller
      servlet\u7C7B<span class="token operator">:</span><span class="token class-name">RegisterServlet</span>
       servlet\u7C7B<span class="token operator">:</span><span class="token class-name">LoginServlet</span>
          
  com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>utils
      \u5DE5\u5177\u7C7B<span class="token operator">:</span><span class="token class-name">DruidUtils</span> \u76F4\u63A5\u62F7\u8D1D
          
<span class="token number">2.</span>\u62F7\u8D1D\u9759\u6001\u8D44\u6E90<span class="token operator">:</span>\u9875\u9762
    
<span class="token number">3.</span>\u5728web\u4E0B\u521B\u5EFAlib<span class="token punctuation">,</span>\u62F7\u8D1D\u7528\u5230\u7684jar\u5305
    
<span class="token number">4.</span>\u521B\u5EFAresource\u8D44\u6E90\u5305<span class="token punctuation">,</span>\u62F7\u8D1Ddruid<span class="token punctuation">.</span>properties\u914D\u7F6E\u6587\u4EF6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://photo.sneoo.com/spring5/202207051119787.png" alt="image-20211124144043073" style="zoom:80%;"><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> userid<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6CE8\u610F:\u6211\u4EECjavabean\u7684\u5B57\u6BB5\u4E00\u5B9A\u8981\u548C\u9875\u9762\u4E0A\u7684input\u6807\u7B7E\u4E2D\u7684name\u503C\u4E00\u6837,\u4E0D\u7136\u7684\u8BDDBeanUtils\u5DE5\u5177\u7C7B\u4E0D\u80FD\u5C06\u83B7\u53D6\u5230\u9875\u9762\u4E0A\u7684\u53C2\u6570map\u96C6\u5408\u5C01\u88C5\u5230javabean\u4E2D</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u6570\u636E\u5E93\u5DE5\u5177\u7C7B</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DruidUtils</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * static\u4EE3\u7801\u5757\uFF1A\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6 druid.properties
     * \u521B\u5EFA\u51FA\u5FB7\u9C81\u4F0A\u8FDE\u63A5\u6C60\u7684\u5BF9\u8C61
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">DataSource</span> dataSource <span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\uFF0C\u7C7B\u7684\u52A0\u8F7D\u5668\u4E2D\u7684IO\u6D41</span>
            <span class="token class-name">InputStream</span> in <span class="token operator">=</span>
                    <span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u5B9A\u4E49\u96C6\u5408\uFF0C\u5B58\u50A8\u914D\u7F6E\u6587\u4EF6\u7684\u952E\u503C\u5BF9</span>
            <span class="token class-name">Properties</span> prop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            prop<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u521B\u5EFA\u5FB7\u9C81\u4F0A\u8FDE\u63A5\u6C60</span>
            dataSource <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span><span class="token punctuation">{</span>
            ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u8FDE\u63A5\u6C60\u8FD0\u884C\u4E2D\u51FA\u73B0\u5F02\u5E38\uFF0C\u6570\u636E\u5E93\u6839\u672C\u5C31\u8FDE\u4E0D\u4E0A\u53BB</span>
            <span class="token comment">//\u6211\u4EEC\u9879\u76EE\u4E2D\u7684\u529F\u80FD90\u4EE5\u4E0A\u5C31\u5E9F\u5F03</span>
            <span class="token comment">//\u629B\u51FA\u8FD0\u884C\u5F02\u5E38\uFF0CRuntimeException \u4E00\u65E6\u629B\u51FA\uFF0CSun\u516C\u53F8\u8BBE\u8BA1\u7406\u89E3\uFF0C\u7A0B\u5E8F\u4EBA\u5458\u4FEE\u6539\u6E90\u7801</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;\u6570\u636E\u5E93\u8FDE\u63A5\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**
     * \u9759\u6001\u65B9\u6CD5\uFF0C\u8FD4\u56DE\u8FDE\u63A5\u6C60\u5BF9\u8C61
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">DataSource</span> <span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-md5\u52A0\u5BC6" tabindex="-1"><a class="header-anchor" href="#_3-md5\u52A0\u5BC6" aria-hidden="true">#</a> 3.MD5\u52A0\u5BC6</h2><h3 id="_3-1-\u52A0\u5BC6\u65B9\u5F0F\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_3-1-\u52A0\u5BC6\u65B9\u5F0F\u4ECB\u7ECD" aria-hidden="true">#</a> 3.1.\u52A0\u5BC6\u65B9\u5F0F\u4ECB\u7ECD</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">1.</span>\u5BF9\u79F0\u52A0\u5BC6\uFF1A\u52A0\u5BC6\u548C\u89E3\u5BC6\u4F7F\u7528\u7684\u76F8\u540C\u7684\u5BC6\u94A5\uFF0C\u5E38\u89C1\u7684\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u6709<span class="token operator">:</span>DES\u3001<span class="token number">3D</span>ES
    
<span class="token number">2.</span>\u975E\u5BF9\u79F0\u52A0\u5BC6\uFF1A\u52A0\u5BC6\u548C\u89E3\u5BC6\u4F7F\u7528\u7684\u5BC6\u94A5\u4E0D\u540C\uFF0C\u5E38\u89C1\u7684\u975E\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u6709<span class="token operator">:</span>RSA
  \u52A0\u5BC6\uFF1A\u4F7F\u7528\u516C\u94A5\u52A0\u5BC6<span class="token operator">-&gt;</span>\u52A0\u5BC6\u653E\u5230\u670D\u52A1\u7AEF
  \u89E3\u5BC6\uFF1A\u4F7F\u7528\u79C1\u94A5\u89E3\u5BC6<span class="token operator">-&gt;</span>\u89E3\u5BC6\u653E\u5230\u5BA2\u6237\u7AEF  <span class="token operator">-&gt;</span> \u53EA\u8981\u662F\u81EA\u5DF1\u4E0D\u628A\u79C1\u94A5\u4E22\u4E86<span class="token punctuation">,</span>\u5C31\u53EF\u4EE5\u89E3\u5BC6
    
<span class="token number">3.</span>\u6D88\u606F\u6458\u8981<span class="token operator">:</span>  \u6D88\u606F\u6458\u8981\u7B97\u6CD5\u7684\u4E3B\u8981\u7279\u5F81\u662F\u52A0\u5BC6\u8FC7\u7A0B\u4E0D\u9700\u8981\u5BC6\u94A5\uFF0C\u5E76\u4E14\u7ECF\u8FC7\u52A0\u5BC6\u7684\u6570\u636E\u65E0\u6CD5\u88AB\u89E3\u5BC6\uFF0C\u53EA\u6709\u76F8\u540C\u7684\u539F\u6587\u7ECF\u8FC7\u6D88\u606F\u6458\u8981\u7B97\u6CD5\u4E4B\u540E\uFF0C\u624D\u80FD\u5F97\u5230\u76F8\u540C\u7684\u5BC6\u6587\uFF0C\u6240\u4EE5\u6D88\u606F\u6458\u8981\u901A\u5E38\u7528\u6765\u6821\u9A8C\u539F\u6587\u7684\u771F\u4F2A\u3002\u5E38\u7528\u7684\u6D88\u606F\u6458\u8981\u7B97\u6CD5\u6709<span class="token operator">:</span>MD5\u3001SHA\u3001MAC
  abc<span class="token operator">-&gt;</span> HDFSDDFADFAFA  <span class="token operator">-&gt;</span> \u6CE8\u518C\u8FDB\u53BB\u7684
  abc<span class="token operator">-&gt;</span> HDFSDDFADFAFA  <span class="token operator">-&gt;</span>\u767B\u5F55\u586B\u5199\u7684
    
<span class="token number">4.</span>\u6211\u4EEC\u5728\u4E66\u57CE\u9879\u76EE\u4E2D\u91C7\u7528MD5\u7B97\u6CD5\u5BF9\u5BC6\u7801\u8FDB\u884C\u52A0\u5BC6<span class="token punctuation">,</span>\u800CMD5\u52A0\u5BC6\u7B97\u6CD5\u662Fjdk\u81EA\u5E26\u7684
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-md5\u52A0\u5BC6\u5DE5\u5177\u7C7B" tabindex="-1"><a class="header-anchor" href="#_3-2-md5\u52A0\u5BC6\u5DE5\u5177\u7C7B" aria-hidden="true">#</a> 3.2.MD5\u52A0\u5BC6\u5DE5\u5177\u7C7B</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MD5Utils</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * \u9488\u5BF9\u660E\u6587\u5B57\u7B26\u4E32\u6267\u884CMD5\u52A0\u5BC6
     * <span class="token keyword">@param</span> <span class="token parameter">source</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1.\u5224\u65AD\u660E\u6587\u5B57\u7B26\u4E32\u662F\u5426\u6709\u6548</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;\u7528\u4E8E\u52A0\u5BC6\u7684\u660E\u6587\u4E0D\u53EF\u4E3A\u7A7A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 2.\u58F0\u660E\u7B97\u6CD5\u540D\u79F0</span>
        <span class="token class-name">String</span> algorithm <span class="token operator">=</span> <span class="token string">&quot;md5&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">// 3.\u83B7\u53D6MessageDigest\u5BF9\u8C61</span>
        <span class="token class-name">MessageDigest</span> messageDigest <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            messageDigest <span class="token operator">=</span> <span class="token class-name">MessageDigest</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>algorithm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NoSuchAlgorithmException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 4.\u83B7\u53D6\u660E\u6587\u5B57\u7B26\u4E32\u5BF9\u5E94\u7684\u5B57\u8282\u6570\u7EC4</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> input <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5.\u6267\u884C\u52A0\u5BC6</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> output <span class="token operator">=</span> messageDigest<span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 6.\u521B\u5EFABigInteger\u5BF9\u8C61</span>
        <span class="token keyword">int</span> signum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">BigInteger</span> bigInteger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span>signum<span class="token punctuation">,</span> output<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 7.\u6309\u716716\u8FDB\u5236\u5C06bigInteger\u7684\u503C\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32</span>
        <span class="token keyword">int</span> radix <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> encoded <span class="token operator">=</span> bigInteger<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>radix<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> encoded<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-md5\u52A0\u5BC6\u7B97\u6CD5\u5DE5\u5177\u7C7B\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_3-3-md5\u52A0\u5BC6\u7B97\u6CD5\u5DE5\u5177\u7C7B\u6D4B\u8BD5" aria-hidden="true">#</a> 3.3.MD5\u52A0\u5BC6\u7B97\u6CD5\u5DE5\u5177\u7C7B\u6D4B\u8BD5</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*
          encode\u65B9\u6CD5\u9700\u8981\u4F20\u9012\u660E\u6587,\u8FD4\u56DE\u5BC6\u6587
         */</span>
        <span class="token class-name">String</span> encode1 <span class="token operator">=</span> <span class="token class-name">MD5Utils</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>encode1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//900150983CD24FB0D6963F7D28E17F72</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;==================================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> encode2 <span class="token operator">=</span> <span class="token class-name">MD5Utils</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>encode2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//81DC9BDB52D04DC20036DBD8313ED055</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===================================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*
          \u5982\u679C\u660E\u6587\u6BD4\u8F83\u590D\u6742,MD5\u67E5\u8BE2\u7F51\u7AD9\u9700\u8981\u6536\u8D39
         */</span>
        <span class="token class-name">String</span> encode3 <span class="token operator">=</span> <span class="token class-name">MD5Utils</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&quot;ABC121abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>encode3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//63E6A755B39CC995C145B91B54C72C24</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>MD5\u89E3\u5BC6\u7F51\u7AD9:https://www.cmd5.com/</p></blockquote><h2 id="_4-\u8868\u73B0\u5C42\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_4-\u8868\u73B0\u5C42\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> 4.\u8868\u73B0\u5C42\u4EE3\u7801\u5B9E\u73B0</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RegisterServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.\u5904\u7406\u8BF7\u6C42\u54CD\u5E94\u4E2D\u6587\u4E71\u7801</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.\u83B7\u53D6\u4E5F\u4E0A\u63D0\u4EA4\u7684\u8BF7\u6C42\u53C2\u6570</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> map <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.\u5C06map\u4E2D\u7684\u6570\u636E\u5C01\u88C5\u5230Javabean\u4E2D</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">BeanUtils</span><span class="token punctuation">.</span><span class="token function">populate</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">/*
              4.\u8981\u6CE8\u518C\u7684\u5BC6\u7801\u5E94\u8BE5\u52A0\u4E2A\u5BC6
                \u5148\u5C06password\u4ECEUser\u5BF9\u8C61\u4E2D\u83B7\u53D6\u51FA\u6765,\u7136\u540E\u52A0\u5BC6,\u6700\u540E\u91CD\u65B0\u5B58\u5230User\u5BF9\u8C61\u4E2D
             */</span>
           <span class="token comment">/* String password = user.getPassword();
            String encode = MD5Utils.encode(password);
            user.setPassword(encode);*/</span>
            user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">MD5Utils</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//5.\u8C03\u7528service\u4E2D\u7684registerUser\u65B9\u6CD5,\u5C06User\u5BF9\u8C61\u4F20\u9012\u8FC7\u53BB</span>
            <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//6.\u5224\u65AD</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//\u5982\u679Cresult\u4E3A1,\u8BC1\u660E\u6CE8\u518C\u6210\u529F,\u91CD\u5B9A\u5411\u5230&quot;\u6CE8\u518C\u6210\u529F\u9875\u9762&quot;</span>
                response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/pages/user/regist_success.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token comment">//\u5982\u679Cresult\u4E0D\u7B49\u4E8E1,\u8BC1\u660E\u6CE8\u518C\u5931\u8D25</span>
                response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u6CE8\u518C\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-\u4E1A\u52A1\u5C42\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_5-\u4E1A\u52A1\u5C42\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> 5.\u4E1A\u52A1\u5C42\u4EE3\u7801\u5B9E\u73B0</h2><img src="https://photo.sneoo.com/spring5/202207051119788.png" alt="image-20211124153256485" style="zoom:80%;"><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8C03\u7528dao\u5C42\u7684registerUser\u65B9\u6CD5</span>
        <span class="token class-name">UserDao</span> userDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-\u6301\u4E45\u5C42\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_6-\u6301\u4E45\u5C42\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> 6.\u6301\u4E45\u5C42\u4EE3\u7801\u5B9E\u73B0</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.\u521B\u5EFAQueryRunner\u5BF9\u8C61</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.\u51C6\u5907\u67E5\u8BE2\u8BED\u53E5</span>
        <span class="token class-name">String</span> find <span class="token operator">=</span> <span class="token string">&quot;select * from t_user where user_name = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//3.\u51C6\u5907\u63D2\u5165\u8BED\u53E5</span>
        <span class="token class-name">String</span> add <span class="token operator">=</span> <span class="token string">&quot;insert into t_user values (?,?,?,?)&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//4.\u5148\u67E5\u8BE2</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>find<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanListHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//5.\u5224\u65AD\u5982\u679C\u96C6\u5408\u957F\u5EA6==0,\u8BC1\u660E\u6839\u636E\u7528\u6237\u540D\u6CA1\u67E5\u5230,\u8BC1\u660E\u6CA1\u6CE8\u518C\u8FC7,\u5C31\u6267\u884C\u6DFB\u52A0,\u8FDB\u884C\u6CE8\u518C</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            qr<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getUserid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//\u8FD4\u56DE1,\u8BC1\u660E\u6CE8\u518C\u6210\u529F</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">//\u8FD4\u56DE0,\u8BC1\u660E\u6CE8\u518C\u5931\u8D25</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u7B2C\u4E94\u7AE0-\u4E66\u57CE\u9879\u76EE\u767B\u5F55\u529F\u80FD-\u5E26\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E94\u7AE0-\u4E66\u57CE\u9879\u76EE\u767B\u5F55\u529F\u80FD-\u5E26\u6570\u636E\u5E93" aria-hidden="true">#</a> \u7B2C\u4E94\u7AE0.\u4E66\u57CE\u9879\u76EE\u767B\u5F55\u529F\u80FD(\u5E26\u6570\u636E\u5E93)</h1><img src="https://photo.sneoo.com/spring5/202207051119789.png" alt="image-20211124162007608" style="zoom:80%;"><h2 id="_1-\u8868\u73B0\u5C42\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_1-\u8868\u73B0\u5C42\u5B9E\u73B0" aria-hidden="true">#</a> 1.\u8868\u73B0\u5C42\u5B9E\u73B0</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.\u5904\u7406\u8BF7\u6C42\u54CD\u5E94\u4E2D\u6587\u4E71\u7801</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2.\u83B7\u53D6\u9875\u9762\u4E0A\u63D0\u4EA4\u7684\u53C2\u6570</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3.\u5C06\u767B\u5F55\u7684\u5BC6\u7801\u52A0\u5BC6</span>
        password <span class="token operator">=</span> <span class="token class-name">MD5Utils</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//4.\u8C03\u7528service\u5C42\u7684loginUser,\u5C06username,\u548Cpassword\u4F20\u9012\u8FC7\u53BB</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">loginUser</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">/*
              \u6CE8\u610F:dao\u5C42\u90A3\u8FB9\u6839\u636Eusername,password\u80FD\u67E5\u51FAuser\u5BF9\u8C61\u6765
                  \u4F46\u662F\u8F93\u51FAuser\u5BF9\u8C61\u65F6\u53D1\u73B0\u4ECE\u6570\u636E\u5E93\u4E2D\u67E5\u8BE2\u51FA\u6765\u7684\u6570\u636E\u6CA1\u6709\u5C01\u88C5\u5230User\u5BF9\u8C61\u4E2D

              \u539F\u56E0:\u7531\u4E8E\u6570\u636E\u5E93\u4E2D\u7684\u5B57\u6BB5\u540D\u548CUser\u4E2D\u7684\u5C5E\u6027\u540D\u4E0D\u5BF9\u5E94\u5BFC\u81F4\u7684

              \u89E3\u51B3:
                 a.\u4FEE\u6539User\u5C5E\u6027\u540D-&gt;\u4E0D\u63A8\u8350-&gt;\u4F1A\u5F15\u8D77\u5176\u4ED6\u7C7B\u62A5\u9519
                 b.\u4FEE\u6539\u6570\u636E\u5E93\u5B57\u6BB5\u540D-&gt;\u4E0D\u63A8\u8350-&gt;\u56E0\u4E3A\u6211\u4EEC\u662F\u4E00\u4E2Ateam,\u5982\u679C\u4F60\u628A\u5B57\u6BB5\u540D\u6539\u4E86,\u5176\u4ED6\u7A0B\u5E8F\u5458\u7684sql\u6709\u53EF\u80FD\u5C31\u5E9F\u4E86
                 c.\u81EA\u5DF1\u5728\u5199sql\u7ED9\u6BCF\u4E2A\u5B57\u6BB5\u53D6\u522B\u540D-&gt;\u63A8\u8350\u7684
             */</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;/pages/user/login_success.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\u767B\u5F55\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-\u4E1A\u52A1\u5C42\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_2-\u4E1A\u52A1\u5C42\u5B9E\u73B0" aria-hidden="true">#</a> 2.\u4E1A\u52A1\u5C42\u5B9E\u73B0</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">User</span> <span class="token function">loginUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/*
      \u767B\u5F55\u529F\u80FD
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">loginUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8C03\u7528dao\u5C42\u7684loginUser\u65B9\u6CD5</span>
        <span class="token class-name">UserDao</span> userDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">loginUser</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-\u6301\u4E45\u5C42\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_3-\u6301\u4E45\u5C42\u5B9E\u73B0" aria-hidden="true">#</a> 3.\u6301\u4E45\u5C42\u5B9E\u73B0</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">User</span> <span class="token function">loginUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code> <span class="token comment">/*
     \u767B\u5F55\u529F\u80FD
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">loginUser</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.\u521B\u5EFAQueryRunner\u5BF9\u8C61</span>
        <span class="token class-name">QueryRunner</span> qr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryRunner</span><span class="token punctuation">(</span><span class="token class-name">DruidUtils</span><span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*
           2.\u51C6\u5907sql
         */</span>
        <span class="token class-name">String</span> find <span class="token operator">=</span> <span class="token string">&quot;select user_id userid,user_name username,user_pwd password,email email from t_user where user_name = ? and user_pwd = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">//3.\u6267\u884Csql</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> qr<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>find<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BeanHandler</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> user<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,99),o=[p];function c(l,i){return s(),a("div",null,o)}var r=n(e,[["render",c],["__file","day07.\u4E66\u57CE\u9879\u76EE\u7B2C\u4E8C\u9636\u6BB5.html.vue"]]);export{r as default};
